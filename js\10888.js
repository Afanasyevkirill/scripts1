"use strict";(self.webpackChunkof_vue=self.webpackChunkof_vue||[]).push([[10888],{114413:function(e,t,n){n.d(t,{w:function(){return f}});var r=n(462534),o=n(342845);const l="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function i(e){let t=e.split(/-(?!$)/),n=t[t.length-1],r,o,i,s;"Space"==n&&(n=" ");for(let c=0;c<t.length-1;c++){let e=t[c];if(/^(cmd|meta|m)$/i.test(e))s=!0;else if(/^a(lt)?$/i.test(e))r=!0;else if(/^(c|ctrl|control)$/i.test(e))o=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);l?s=!0:o=!0}}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function s(e){let t=Object.create(null);for(let n in e)t[i(n)]=e[n];return t}function c(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function f(e){return new o.k_({props:{handleKeyDown:a(e)}})}function a(e){let t=s(e);return function(e,n){let o=(0,r.xT)(n),l,i=t[c(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[c(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(l=r.E3[n.keyCode])&&l!=o){let r=t[c(l,n)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}},246762:function(e,t,n){n.d(t,{$f:function(){return O},G2:function(){return w},I$:function(){return I},Im:function(){return D},Qv:function(){return c},Sd:function(){return g},Z1:function(){return A},_G:function(){return a},_e:function(){return d},bh:function(){return $},eB:function(){return f},eT:function(){return y},ec:function(){return j},hy:function(){return V},ic:function(){return i},iz:function(){return C},pC:function(){return x},yY:function(){return b},y_:function(){return F}});var r=n(238262),o=n(742225),l=n(342845);const i=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function s(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const c=(e,t,n)=>{let i=s(e,n);if(!i)return!1;let c=h(i);if(!c){let n=i.blockRange(),o=n&&(0,r.jP)(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let f=c.nodeBefore;if(R(e,c,t,-1))return!0;if(0==i.parent.content.size&&(u(f,"end")||l.nh.isSelectable(f)))for(let s=i.depth;;s--){let n=(0,r.$L)(e.doc,i.before(s),i.after(s),o.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(u(f,"end")?l.LN.findFrom(r.doc.resolve(r.mapping.map(c.pos,-1)),-1):l.nh.create(r.doc,c.pos-f.nodeSize)),t(r.scrollIntoView())}return!0}if(1==s||i.node(s-1).childCount>1)break}return!(!f.isAtom||c.depth!=i.depth-1)&&(t&&t(e.tr.delete(c.pos-f.nodeSize,c.pos).scrollIntoView()),!0)},f=(e,t,n)=>{let r=s(e,n);if(!r)return!1;let o=h(r);return!!o&&p(e,o,t)},a=(e,t,n)=>{let r=m(e,n);if(!r)return!1;let o=k(r);return!!o&&p(e,o,t)};function p(e,t,n){let i,s=t.nodeBefore,c=t.pos-1;for(;!s.isTextblock;c--){if(s.type.spec.isolating)return!1;let e=s.lastChild;if(!e)return!1;s=e}let f,a=t.nodeAfter,p=t.pos+1;for(;!a.isTextblock;p++){if(a.type.spec.isolating)return!1;let e=a.firstChild;if(!e)return!1;a=e}let u=(0,r.$L)(e.doc,c,p,o.Ji.empty);if(!u||u.from!=c||u instanceof r.Ln&&u.slice.size>=p-c)return!1;if(n){let t=e.tr.step(u);t.setSelection(l.U3.create(t.doc,c)),n(t.scrollIntoView())}return!0}function u(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const d=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=h(r)}let s=i&&i.nodeBefore;return!(!s||!l.nh.isSelectable(s))&&(t&&t(e.tr.setSelection(l.nh.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function h(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function m(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const y=(e,t,n)=>{let i=m(e,n);if(!i)return!1;let s=k(i);if(!s)return!1;let c=s.nodeAfter;if(R(e,s,t,1))return!0;if(0==i.parent.content.size&&(u(c,"start")||l.nh.isSelectable(c))){let n=(0,r.$L)(e.doc,i.before(),i.after(),o.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(u(c,"start")?l.LN.findFrom(r.doc.resolve(r.mapping.map(s.pos)),1):l.nh.create(r.doc,r.mapping.map(s.pos))),t(r.scrollIntoView())}return!0}}return!(!c.isAtom||s.depth!=i.depth-1)&&(t&&t(e.tr.delete(s.pos,s.pos+c.nodeSize).scrollIntoView()),!0)},g=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=k(r)}let s=i&&i.nodeAfter;return!(!s||!l.nh.isSelectable(s))&&(t&&t(e.tr.setSelection(l.nh.create(e.doc,i.pos)).scrollIntoView()),!0)};function k(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const w=(e,t)=>{let n=e.selection,o=n instanceof l.nh,i;if(o){if(n.node.isTextblock||!(0,r.n9)(e.doc,n.from))return!1;i=n.from}else if(i=(0,r.N0)(e.doc,n.from,-1),null==i)return!1;if(t){let n=e.tr.join(i);o&&n.setSelection(l.nh.create(n.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(n.scrollIntoView())}return!0},$=(e,t)=>{let n=e.selection,o;if(n instanceof l.nh){if(n.node.isTextblock||!(0,r.n9)(e.doc,n.to))return!1;o=n.to}else if(o=(0,r.N0)(e.doc,n.to,1),null==o)return!1;return t&&t(e.tr.join(o).scrollIntoView()),!0},b=(e,t)=>{let{$from:n,$to:o}=e.selection,l=n.blockRange(o),i=l&&(0,r.jP)(l);return null!=i&&(t&&t(e.tr.lift(l,i).scrollIntoView()),!0)},x=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function S(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const I=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=S(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,s.createAndFill());o.setSelection(l.LN.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},A=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof l.i5||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=S(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(l.U3.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},C=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if((0,r.zy)(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let o=n.blockRange(),l=o&&(0,r.jP)(o);return null!=l&&(t&&t(e.tr.lift(o,l).scrollIntoView()),!0)};function M(e){return(t,n)=>{let{$from:o,$to:i}=t.selection;if(t.selection instanceof l.nh&&t.selection.node.isBlock)return!(!o.parentOffset||!(0,r.zy)(t.doc,o.pos))&&(n&&n(t.tr.split(o.pos).scrollIntoView()),!0);if(!o.depth)return!1;let s=[],c,f,a=!1,p=!1;for(let r=o.depth;;r--){let t;if(o.node(r).isBlock){a=o.end(r)==o.pos+(o.depth-r),p=o.start(r)==o.pos-(o.depth-r),f=S(o.node(r-1).contentMatchAt(o.indexAfter(r-1)));let t=e&&e(i.parent,a,o);s.unshift(t||(a&&f?{type:f}:null)),c=r;break}if(1==r)return!1;s.unshift(null)}let u=t.tr;(t.selection instanceof l.U3||t.selection instanceof l.i5)&&u.deleteSelection();let d=u.mapping.map(o.pos),h=(0,r.zy)(u.doc,d,s.length,s);if(h||(s[0]=f?{type:f}:null,h=(0,r.zy)(u.doc,d,s.length,s)),u.split(d,s.length,s),!a&&p&&o.node(c).type!=f){let e=u.mapping.map(o.before(c)),t=u.doc.resolve(e);f&&o.node(c-1).canReplaceWith(t.index(),t.index()+1,f)&&u.setNodeMarkup(u.mapping.map(o.before(c)),f)}return n&&n(u.scrollIntoView()),!0}}const z=M(),T=(e,t)=>z(e,t&&(n=>{let r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})),V=(e,t)=>{let{$from:n,to:r}=e.selection,o,i=n.sharedDepth(r);return 0!=i&&(o=n.before(i),t&&t(e.tr.setSelection(l.nh.create(e.doc,o))),!0)},v=(e,t)=>(t&&t(e.tr.setSelection(new l.i5(e.doc))),!0);function B(e,t,n){let o=t.nodeBefore,l=t.nodeAfter,i=t.index();return!!(o&&l&&o.type.compatibleContent(l.type))&&(!o.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!l.isTextblock&&!(0,r.n9)(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))}function R(e,t,n,i){let s=t.nodeBefore,c=t.nodeAfter,f,a,p=s.type.spec.isolating||c.type.spec.isolating;if(!p&&B(e,t,n))return!0;let d=!p&&t.parent.canReplace(t.index(),t.index()+1);if(d&&(f=(a=s.contentMatchAt(s.childCount)).findWrapping(c.type))&&a.matchType(f[0]||c.type).validEnd){if(n){let l=t.pos+c.nodeSize,i=o.FK.empty;for(let e=f.length-1;e>=0;e--)i=o.FK.from(f[e].create(null,i));i=o.FK.from(s.copy(i));let a=e.tr.step(new r.Wg(t.pos-1,l,t.pos,l,new o.Ji(i,1,0),f.length,!0)),p=a.doc.resolve(l+2*f.length);p.nodeAfter&&p.nodeAfter.type==s.type&&(0,r.n9)(a.doc,p.pos)&&a.join(p.pos),n(a.scrollIntoView())}return!0}let h=c.type.spec.isolating||i>0&&p?null:l.LN.findFrom(t,1),m=h&&h.$from.blockRange(h.$to),y=m&&(0,r.jP)(m);if(null!=y&&y>=t.depth)return n&&n(e.tr.lift(m,y).scrollIntoView()),!0;if(d&&u(c,"start",!0)&&u(s,"end")){let l=s,i=[];for(;i.push(l),!l.isTextblock;)l=l.lastChild;let f=c,a=1;for(;!f.isTextblock;f=f.firstChild)a++;if(l.canReplace(l.childCount,l.childCount,f.content)){if(n){let l=o.FK.empty,s;for(let e=i.length-1;e>=0;e--)l=o.FK.from(i[e].copy(l));n(e.tr.step(new r.Wg(t.pos-i.length,t.pos+c.nodeSize,t.pos+a,t.pos+c.nodeSize-a,new o.Ji(l,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function K(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(l.U3.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const O=K(-1),j=K(1);function D(e,t=null){return function(n,o){let{$from:l,$to:i}=n.selection,s=l.blockRange(i),c=s&&(0,r.oM)(s,e,t);return!!c&&(o&&o(n.tr.wrap(s,c).scrollIntoView()),!0)}}function F(e,t=null){return function(n,r){let o=!1;for(let l=0;l<n.selection.ranges.length&&!o;l++){let{$from:{pos:r},$to:{pos:i}}=n.selection.ranges[l];n.doc.nodesBetween(r,i,((r,l)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(l),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}}))}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:l},$to:{pos:i}}=n.selection.ranges[r];o.setBlockType(l,i,e,t)}r(o.scrollIntoView())}return!0}}function P(e,t,n,r){for(let o=0;o<t.length;o++){let{$from:l,$to:i}=t[o],s=0==l.depth&&(e.inlineContent&&e.type.allowsMarkType(n));if(e.nodesBetween(l.pos,i.pos,((e,t)=>{if(s||!r&&e.isAtom&&e.isInline&&t>=l.pos&&t+e.nodeSize<=i.pos)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return!0}return!1}function W(e){let t=[];for(let n=0;n<e.length;n++){let{$from:r,$to:o}=e[n];r.doc.nodesBetween(r.pos,o.pos,((e,n)=>{if(e.isAtom&&e.content.size&&e.isInline&&n>=r.pos&&n+e.nodeSize<=o.pos)return n+1>r.pos&&t.push(new SelectionRange(r,r.doc.resolve(n+1))),r=r.doc.resolve(n+1+e.content.size),!1})),r.pos<o.pos&&t.push(new SelectionRange(r,o))}return t}function L(e,t=null,n){let r=!1!==(n&&n.removeWhenPresent),o=!1!==(n&&n.enterInlineAtoms),l=!(n&&n.includeWhitespace);return function(n,i){let{empty:s,$cursor:c,ranges:f}=n.selection;if(s&&!c||!P(n.doc,f,e,o))return!1;if(i)if(c)e.isInSet(n.storedMarks||c.marks())?i(n.tr.removeStoredMark(e)):i(n.tr.addStoredMark(e.create(t)));else{let s,c=n.tr;o||(f=W(f)),s=r?!f.some((t=>n.doc.rangeHasMark(t.$from.pos,t.$to.pos,e))):!f.every((t=>{let n=!1;return c.doc.nodesBetween(t.$from.pos,t.$to.pos,((r,o,l)=>{if(n)return!1;n=!e.isInSet(r.marks)&&!!l&&l.type.allowsMarkType(e)&&!(r.isText&&/^\s*$/.test(r.textBetween(Math.max(0,t.$from.pos-o),Math.min(r.nodeSize,t.$to.pos-o))))})),!n}));for(let n=0;n<f.length;n++){let{$from:r,$to:o}=f[n];if(s){let n=r.pos,i=o.pos,s=r.nodeAfter,f=o.nodeBefore,a=l&&s&&s.isText?/^\s*/.exec(s.text)[0].length:0,p=l&&f&&f.isText?/\s*$/.exec(f.text)[0].length:0;n+a<i&&(n+=a,i-=p),c.addMark(n,i,e.create(t))}else c.removeMark(r.pos,o.pos,e)}i(c.scrollIntoView())}return!0}}function N(e,t){return n=>{if(!n.isGeneric)return e(n);let r=[];for(let e=0;e<n.mapping.maps.length;e++){let t=n.mapping.maps[e];for(let e=0;e<r.length;e++)r[e]=t.map(r[e]);t.forEach(((e,t,n,o)=>r.push(n,o)))}let o=[];for(let e=0;e<r.length;e+=2){let l=r[e],i=r[e+1],s=n.doc.resolve(l),c=s.sharedDepth(i),f=s.node(c);for(let e=s.indexAfter(c),n=s.after(c+1);n<=i;++e){let r=f.maybeChild(e);if(!r)break;if(e&&-1==o.indexOf(n)){let l=f.child(e-1);l.type==r.type&&t(l,r)&&o.push(n)}n+=r.nodeSize}}o.sort(((e,t)=>e-t));for(let e=o.length-1;e>=0;e--)canJoin(n.doc,o[e])&&n.join(o[e]);e(n)}}function E(e,t){let n=Array.isArray(t)?e=>t.indexOf(e.type.name)>-1:t;return(t,r,o)=>e(t,r&&N(r,n),o)}function J(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let _=J(i,c,d),U=J(i,y,g);const G={Enter:J(x,A,C,z),"Mod-Enter":I,Backspace:_,"Mod-Backspace":_,"Shift-Backspace":_,Delete:U,"Mod-Delete":U,"Mod-a":v},q={"Ctrl-h":G.Backspace,"Alt-Backspace":G["Mod-Backspace"],"Ctrl-d":G.Delete,"Ctrl-Alt-Backspace":G["Mod-Delete"],"Alt-Delete":G["Mod-Delete"],"Alt-d":G["Mod-Delete"],"Ctrl-a":O,"Ctrl-e":j};for(let Y in G)q[Y]=G[Y];const H="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform(),Q=null}}]);