"use strict";(self.webpackChunkof_vue=self.webpackChunkof_vue||[]).push([[7680,24473,38965,61346,81340,99721],{26799:function(t,e,s){s.d(e,{A:function(){return P}});var i=function t(){var e=this,s=e._self._c;return e.isChats&&e.locked?s("div",{staticClass:"b-photos__item"},[s("chat-purchase",{attrs:{message:e.post,"is-grid":""}})],1):s("router-link",{staticClass:"b-photos__item",class:{"m-video-item":e.hasVideo||e.hasGif,"m-default-bg":!e.showPurchase},attrs:{to:e.link,"data-id":e.post.id,"at-attr":"photo_item",custom:""},scopedSlots:e._u([{key:"default",fn:function({href:t,navigate:i}){return[s("a",{attrs:{href:t},on:{click:function(t){return e.clickMedia(t,i)}}},[e.avatar?s("avatar",{staticClass:"m-border-line m-absolute",attrs:{user:e.author,size:24,"is-link":!1}}):e._e(),e.showPurchase?s("post-purchase",{attrs:{id:e.author.id,post:e.post,"is-disabled-attachment-icons":e.isDisabledAttachmentIcons,"is-grid":"","is-last-posts":e.isLastPosts}}):[e.shouldDisplayText?s("div",{staticClass:"b-photos__item__text m-break-word"},[e._v(" "+e._s(e.textEncoded)+" ")]):e._e(),e.shouldDisplayThumbnail?s("img",{staticClass:"b-photos__item__img",attrs:{src:e.thumbnailUrl,alt:""}}):e._e(),e.isShowPlayBtn?s("span",{staticClass:"b-photos__item__play-btn g-btn-play m-sm-size"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-play",arg:"icon-play"}]})]):e._e(),e.paidStatus?s("span",{staticClass:"b-users__item__new-posts-count"},[e._v(" "+e._s(e.amountHumanShort(e.post.price))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:[paidIconClassName]",arg:e.paidIconClassName}],staticClass:"m-icon-extra-sm"})]):e._e(),e.listOfAttachmentIcons.length&&!e.isDisabledAttachmentIcons?s("post-subscribe-block",{staticClass:"m-inside-grid",class:{"m-over-thumb":e.shouldDisplayThumbnail}},[s("div",{staticClass:"content-icons"},[s("ul",{ref:"attachmentIconList",staticClass:"b-purchase__list g-text-ellipsis"},e._l(e.listOfAttachmentIcons,(function(t){return s("li",{key:t.icon,class:["b-purchase__list-item",t.className,{"m-truncate-item":t.isTruncateItem}]},[t.icon?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:[listItem.icon]",arg:t.icon}],staticClass:"icon-media"}):e._e(),t.content?s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(t.content)+" ")]):e._e()])})),0)])]):e._e()]],2)]}}])})},o=[],a=s(218111),n=s(22489),r=s(720116),l=s(110908),u=s(305376),d=s(174520),c=s(281436),p=s(942108),h=s(178688),m=s(627268),_=s(191646),g=s(463670),v,b={name:"UsersPostGrid",components:{PostPurchase:u.A,ChatPurchase:d.A,Avatar:c.default,PostSubscribeBlock:p.A},mixins:[h.A,_.wd,m.A],props:{isChats:{type:Boolean,default:!1},locked:{type:Boolean,required:!1},avatar:{type:Boolean,default:!1},needLightbox:{type:Boolean,default:!0},isDisabledAttachmentIcons:{type:Boolean,default:!1},showPlayBtn:{type:Boolean,default:!0},isLastPosts:{type:Boolean,default:!1}},computed:{...(0,l.npG)(["authUserId"]),...(0,l.ZOz)(["getUser"]),showPurchase(){return this.hasLockedMedia&&!this.isChats||!this.isPostUser&&!this.isMessage&&this.post.price&&!this.opened},shouldDisplayText(){const t=!this.shouldDisplayThumbnail&&!this.hasAudio;return!this.isChats&&this.hasText&&t},shouldDisplayThumbnail(){return(this.hasVideo||this.hasGif||this.hasPhoto)&&this.thumbnailUrl},thumbnailUrl(){var t;const e=this.post.media.find((t=>g.A2.includes(t.type)));return null==e||null===(t=e.files.thumb)||void 0===t?void 0:t.url},author(){const{fromUser:t,author:e}=this.post;return e&&Object.keys(e).length?e:this.getUser(e||t)},link(){return this.post.id&&this.author.username?{name:"Post",params:{postId:this.post.id,userId:this.author.username}}:""},paidStatus(){return this.isChats&&this.post&&!this.post.isFree&&(this.post.isOpened||this.post.fromUser===this.authUserId)},paidIconClassName(){if(this.paidStatus){if(this.post.isOpened)return"icon-unlocked";if(this.post.fromUser===this.authUserId)return"icon-locked"}return""},isShowPlayBtn(){return this.showPlayBtn&&this.visibleMedia.length&&["gif","video","audio"].includes(this.visibleMedia[0].type)},listOfAttachmentIcons(){return this.attachmentsIconsMixin_recalculatedListIcons.length?this.attachmentsIconsMixin_recalculatedListIcons:[this.hasPhoto&&{icon:"icon-media",content:this.photoCount},this.hasVideo&&{icon:"icon-video",content:this.getMediaCountOrDurationByType("video")},this.hasAudio&&{icon:"icon-voice",content:this.getMediaCountOrDurationByType("audio")},this.hasGif&&{icon:"icon-gif",content:this.getMediaCountOrDurationByType("gif")},this.hasText&&{icon:"icon-text-frame-off",content:null},this.hasPoll&&{icon:"icon-poll",content:null},this.hasQuiz&&{icon:"icon-quiz",content:null},this.hasFundraising&&{icon:"icon-fundraising",content:null}].filter(Boolean)}},mounted(){this.attachmentsIconsMixin_initMixin({listRefName:"attachmentIconList",listIconsPropertyName:"listOfAttachmentIcons"})},methods:{getMediaCountOrDurationByType(t=""){const e=this.getMediaCountAndDurationByType({mediaType:t,isLockedMediaType:!1});if(e)return(null==e?void 0:e.count)>1?e.count:null==e?void 0:e.duration},clickMedia(t,e){const s={mediaId:((this.post.media||[])[0]||{}).id,postId:this.post.id};if(this.isMessage&&!this.locked&&this.needLightbox)return t.preventDefault(),void this.$emit("mediaDetails",s);this.showPurchase||this.hasText||this.post.price||!this.needLightbox?e(t):(t.preventDefault(),this.$emit("mediaDetails",s))}}},f,y,P=(0,s(281656).A)(b,i,o,!1,null,"52d5ebe1",null).exports},76764:function(t,e,s){s.d(e,{A:function(){return u}});var i=function t(){var e=this,s;return(0,e._self._c)("input",e._g(e._b({ref:"input",staticClass:"b-search-form__input form-control",attrs:{type:"search",minlength:e.minlength,maxlength:e.maxlength,autofocus:e.autofocus,spellcheck:e.spellcheck,autocorrect:e.autocorrect,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,readonly:e.readonly},domProps:{value:e.value}},"input",e.$attrs,!1),e.inputListeners))},o=[],a,n={name:"SearchOF",props:{value:{type:[String,Number],default:""},spellcheck:{type:String,validator:t=>["false","true"].includes(t),default:"false"},autocorrect:{type:String,default:"off"},autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autofocus:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:100},minlength:{type:Number,default:null},readonly:{type:Boolean,default:!1}},computed:{inputListeners(){return Object.assign({},this.$listeners,{input:t=>{this.$emit("input",t.target.value)}})}},mounted(){this.autofocus&&this.focus()},methods:{focus(){this.$refs.input.focus()},blur(){this.$refs.input.blur()}}},r,l,u=(0,s(281656).A)(n,i,o,!1,null,null,null).exports},121478:function(t,e,s){s.d(e,{A:function(){return f}});var i=function t(){var e=this,s=e._self._c;return e.post.fundRaising?s("div",{staticClass:"b-post__fundraising",class:{"m-own":e.isPostUser}},[s("div",{staticClass:"b-post__fundraising__progress-wrapper"},[s("div",{staticClass:"b-post__fundraising__progress-data"},[s("div",{staticClass:"b-post__fundraising__progress",style:e.progressStyle}),s("span",{staticClass:"m-icon-fundraising",class:{"m-pointer m-with-round-hover":!e.isPostUser&&!e.isDisabled},on:{click:e.showModalTips}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-fundraising",arg:"icon-fundraising"}]})]),s("div",{staticClass:"b-post__fundraising__summ"},[e._v(" "+e._s(e.amountHumanShort(e.post.fundRaising.targetProgress))+" ")]),s("div",{staticClass:"b-post__fundraising__target"},[e._v(" $"+e._s(e.post.fundRaising.target)+" ")]),s("span",{directives:[{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.campaign_progress"),expression:"$t('message.campaign_progress')",modifiers:{enabled:!0}}],staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-info",arg:"icon-info"}]})])])]),s("div",{staticClass:"g-btn__row"},e._l(e.buttons,(function(t){return s("button",{key:t,staticClass:"g-btn m-rounded m-border m-reset-width",attrs:{type:"button",disabled:e.isDisabled||e.isPostUser},on:{click:function(s){return e.sendFunds(t)}}},[e._v(" $"+e._s(t)+" ")])})),0)]):e._e()},o=[],a=s(858156),n=s.n(a),r=s(962953),l=s(110908),u=s(547822),d=s(305693),c=s(191646),p=s(139162);const{$emit:h,EVENTS:m}=(0,u.A)();var _,g={name:"PostsFundraising",mixins:[d.A,c.wd],props:{postId:{type:Number,required:!0}},data(){return{amount:0}},computed:{...(0,l.npG)(["isAuth","authUser"]),...(0,l.ZOz)(["getUser"]),...(0,l.kbi)(["getPost"]),...(0,l.jxr)(["getSchedulePostById"]),...(0,l.DNP)(["getSFLPostById"]),post(){const t=this.$route.name;return"MyQueue"===t?this.getSchedulePostById(this.postId)||{}:"SavedForLater"===t?this.getSFLPostById(this.postId)||{}:this.getPost(this.postId)[0]||{}},user(){return this.getUser(this.post.author)},isPostUser(){return!(!this.post.author||!this.authUser.id||this.post.author!==this.authUser.id)},isDisabled(){const{name:t}=this.$route;return"MyQueue"===t||"SavedForLater"===t||this.authUser.isDeleteInitiated},progressStyle(){const{targetProgress:t,target:e}=this.post.fundRaising;return`width:calc(${Math.min(Math.round(100*t/e),100)}% + 0px)`},buttons(){return[...n()(this,"post.fundRaising.presets",[])].sort(((t,e)=>t-e))}},methods:{...(0,l.tSh)(["setModalUser"]),sendFunds(t){this.check((async()=>{this.amount=t,await this.sendTip()}))},async sendTip(){const t=await this.makePayments({paymentType:"tip",amount:this.amount,userId:this.post.author,postId:this.post.id,tipSource:"post",modalTitle:this.$t("message.confirm_contribution_payment_title")},this.sendTip);t&&t.success&&(this.amount=0,this.$bvToast.toast(this.$t("message.contribution_was_sent_successfully"),p.fy))},check(t){if(!this.isPostUser&&!this.isDisabled)return this.isAuth&&this.user.tipsEnabled?void t.call():(this.setModalUser({userId:this.user.id}),void this.$nextTick((()=>{this.$root.$emit("bv::show::modal","ModalSubscribe")})))},showModalTips(){h(m.TIPS_POPUP.INIT,{postId:this.post.id,userId:this.post.author})}}},v,b,f=(0,s(281656).A)(g,i,o,!1,null,"2c074882",null).exports},320555:function(t,e,s){s.d(e,{X:function(){return i},Y:function(){return o}});var i=function t(){var e=this,s=e._self._c;return s("unknown-post",{class:{"m-fluid-height":e.user.isPendingAutoprolong},attrs:{message:e.messageText,"icon-near-text":!e.user.canAddSubscriber||e.isMessage,"with-default-bg":e.withDefaultBg},scopedSlots:e._u([e.isMessage?null:{key:"down",fn:function(){return[e.user.canAddSubscriber?[s("post-subscribe-block",{class:{"m-need-confirm-price":e.isNewPriceHigherAgreePrice}},[e.showPostsCounter||e.hasAnyVisible?s("div",{staticClass:"content-icons"},[e.showPostsCounter?s("ul",{staticClass:"b-purchase__list g-text-ellipsis"},[s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-post2",arg:"icon-post2"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.user.postsCount)+" ")])]),e.user.photosCount&&e.user.showMediaCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-media",arg:"icon-media"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.user.photosCount)+" ")])]):e._e(),e.user.videosCount&&e.user.showMediaCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-video",arg:"icon-video"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.user.videosCount)+" ")])]):e._e(),e.user.audiosCount&&e.user.showMediaCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-voice",arg:"icon-voice"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.user.audiosCount)+" ")])]):e._e()]):e.hasAnyVisible?s("ul",{staticClass:"b-purchase__list g-text-ellipsis"},[e.hasLockedText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-text-frame-off",arg:"icon-text-frame-off"}]})]):e._e(),e.postLockedMedia("photo")&&e.user.showMediaCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-media",arg:"icon-media"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.photoLockedCount)+" ")])]):e._e(),e.postLockedMedia("video")&&e.user.showMediaCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-video",arg:"icon-video"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.videoLockedCount>1?e.videoLockedCount:e.videoLockedDuration?e.videoLockedDuration:"")+" ")])]):e._e(),e.postLockedMedia("gif")&&e.user.showMediaCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-gif",arg:"icon-gif"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.gifLockedCount>1?e.gifLockedCount:e.gifLockedDuration?e.gifLockedDuration:"")+" ")])]):e._e(),e.postLockedMedia("audio")&&e.user.showMediaCount?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-voice",arg:"icon-voice"}]}),s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(e.audioLockedDuration?e.audioLockedDuration:"")+" ")])]):e._e(),e.hasPoll?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-poll",arg:"icon-poll"}]})]):e._e(),e.hasQuiz?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-quiz",arg:"icon-quiz"}]})]):e._e()]):e._e(),e.showPostsCounter?s("div",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-locked",arg:"icon-locked"}]})]):e._e()]):e._e(),s("div",{class:{"mt-1":e.showPostsCounter||e.hasAnyVisible}},[e.user.isPendingAutoprolong?s("div",{staticClass:"mb-1 b-subscribe-block__text"},[e._v(" "+e._s(e.$t("message.subscription_charge_failed_will_attempt",{AMOUNT:72}))+" ")]):e._e(),s("div",{staticClass:"g-btn__group"},[s("subscribe-btn",e._b({attrs:{id:e.id}},"subscribe-btn",e.user.isPendingAutoprolong&&!e.isNewPriceHigherAgreePrice?{label:e.$t("message.subscribe_btn_unsubscribe_label"),"is-custom":!0,"sm-size":!0,class:"m-sm"}:{short:!0,"is-restricted":!e.user.subscribedBy&&!e.user.isPendingAutoprolong},!1)),e.user.isPendingAutoprolong&&!e.isNewPriceHigherAgreePrice?s("button",{staticClass:"g-btn m-rounded",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doSubscribePay.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("message.retry"))+" ")]):e._e()],1)])])]:s("p",[e._v(" "+e._s(e.text||e.$t("message.inactive_private_restriction_wall_message"))+" ")])]},proxy:!0}],null,!0)})},o=[]},367344:function(t,e,s){s.d(e,{A:function(){return d}});var i=function t(){var e=this,s=e._self._c;return e.hasAny&&e.listOfAttachmentsIconsConfig.length?s("div",{staticClass:"content-icons g-gray-text"},[s("ul",{staticClass:"b-purchase__list"},e._l(e.listOfAttachmentsIconsConfig,(function(t){return s("li",{key:t.icon,staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:[listItem.icon]",arg:t.icon}]}),null!==t.content?s("span",{staticClass:"b-purchase__list-item__count"},[e._v(" "+e._s(t.content)+" ")]):e._e()])})),0)]):e._e()},o=[],a,n,r={name:"PostAttachmentsIcons",mixins:[s(178688).A],computed:{listOfAttachmentsIconsConfig(){return this.getListOfPostAttachmentsConfig()}}},l,u,d=(0,s(281656).A)(r,i,o,!1,null,null,null).exports},393138:function(t,e,s){s.d(e,{A:function(){return p}});var i=function t(){var e=this,s=e._self._c;return e.post.isReportedByMe||e.post.isReportedByMeTemp?s("div",{staticClass:"b-post__wrapper"},[s("post-block-wrapper",{class:{"is-not-post-page":!e.isPostPage}},[s("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:{text:e.postHTML},expression:"{ text: postHTML }"}],staticClass:"b-post__thanks-for-report empty-message m-show"})])],1):s("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.visibilityChanged,throttle:1e3,intersection:{rootMargin:"2000px 0px"}},expression:"{\n    callback: visibilityChanged,\n    throttle: 1000,\n    intersection: {\n      rootMargin: '2000px 0px'\n    }\n  }"}],ref:"postWrapper",staticClass:"b-post__wrapper",style:e.computedStyle},[e.showPost?s("users-post",{attrs:{post:e.post,type:e.type,"post-stat-tab-key":e.postStatTabKey,"is-linked":e.isLinked,"avatar-size":e.avatarSize,"is-allow-delete":e.isAllowDelete,"post-media-styles":e.postMediaStyles,"is-force-one-col":e.isForceOneCol}}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-loading",arg:"icon-loading"}]})],1)},o=[],a=s(110908),n=s(971484),r=s(584932),l,u={name:"PostWrapper",components:{UsersPost:n.A,PostBlockWrapper:r.A},props:{post:{type:Object,required:!0},type:{type:String,default:"profile"},isForceOneCol:{type:Boolean,default:!1},isLinked:{type:Boolean,default:!1},avatarSize:{type:Number,default:50},isAllowDelete:{type:Boolean,default:!0},postStatTabKey:{type:String,default:null},postMediaStyles:{type:Object,default:null}},data(){return{computedStyle:"",showPost:!0,visible:!1,isPostPage:"Post"===this.$route.name}},computed:{...(0,a.NQL)(["currentFullscreenPostId"]),postHTML(){var t;const e="post"===(null===(t=this.post)||void 0===t?void 0:t.responseType);return this.$t("message.thanks_for_reporting"+(e?"":"_message"))}},methods:{visibilityChanged(t){this.visible!==t&&this.currentFullscreenPostId!==this.post.id&&(this.visible=t,this.visible?(this.showPost=!0,setTimeout((()=>{this.computedStyle=""}),1e3)):(this.computedStyle=!t&&this.$refs.postWrapper.offsetHeight?`height:${this.$refs.postWrapper.offsetHeight}px`:"",setTimeout((()=>{this.showPost=!1}),1e3)))}}},d,c,p=(0,s(281656).A)(u,i,o,!1,null,"07b2be4a",null).exports},507920:function(t,e,s){s.d(e,{A:function(){return v}});var i=function t(){var e=this,s=e._self._c;return e.isUserHasLabels?s("tabs-o-f",{staticClass:"m-nv post-labels-wrapper m-tab-rounded m-single-current mb-0",attrs:{tabs:e.preparedUserLabels,"scroller-class":"m-gaps-inside m-gaps-outside","should-slide-on-click":""},on:{click:e.clickLabelChip},scopedSlots:e._u([{key:"appended-tabs",fn:function(){return[e.isHasMore?s("horizontal-infinite-loading",{staticClass:"mt-auto mb-auto",on:{infinite:e.infiniteHandler}}):e._e()]},proxy:!0}],null,!1,3309440385)}):e._e()},o=[],a=s(218111),n=s(22489),r=s(161701),l=s(885471),u=s(118878),d=s(168984),c=s(957903),p=s(489464),h,m={name:"PostsLabelsChips",components:{HorizontalInfiniteLoading:u.A,TabsOF:d.A},props:{userLabels:{type:Array,required:!0},selectedLabelId:{type:[String,Number],required:!0},isHasMore:{type:Boolean,default:!0},isHidePostsLabelsCounters:{type:Boolean,default:!1}},setup(t,{emit:e}){const{userLabels:s,selectedLabelId:i,isHidePostsLabelsCounters:o}=(0,l.toRefs)(t),a=(0,l.computed)((()=>Boolean(s.value.length))),n=(0,l.computed)((()=>s.value.map((t=>{if(!t.postsCount)return null;const e={content:(0,p.a$)(t.name),boundariesElement:"b-tabs__nav__item"},s=t.id===i.value;let a=(0,c.iT)((0,p.xn)(t.name));return o.value||(a=`${a} ${t.postsCount}`),{...t,text:a,isActive:s,tooltip:e,labelAtAttr:"profile_label"}})).filter(Boolean))),r=(0,l.computed)((()=>n.value.map((({id:t})=>t))));(0,l.watch)(r,(()=>{r.value.includes(i.value)||e("onClickLabelChip",n.value[0])}));const u=undefined,d=undefined;return{isUserHasLabels:a,preparedUserLabels:n,clickLabelChip:t=>e("onClickLabelChip",t),infiniteHandler:t=>e("onInfiniteHandler",t)}}},_,g,v=(0,s(281656).A)(m,i,o,!1,null,null,null).exports},530582:function(t,e,s){s.d(e,{A:function(){return k}});var i=function t(){var e=this,s=e._self._c;return s("div",[s("dropdown-wrapper",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.list_sort"),expression:"$t('message.list_sort')"}],attrs:{disabled:e.disabledState,"toggle-class":"g-btn m-gray m-with-round-hover m-icon m-icon-only m-sm-size",offset:"4",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-sort",arg:"icon-sort"}]})]},proxy:!0}])},[e.showDefaultFilters?e._e():[s("b-dropdown-item",{attrs:{href:"javascript:void(0)"}},[s("radio-o-f",{attrs:{id:"date-filter-all",label:e.$t("message.filter_all_time_label"),checked:e.goToDate===e.DEFAULT_FILTER_DATE_ALL_TIME,value:e.DEFAULT_FILTER_DATE_ALL_TIME,name:"posts-filter-field"},model:{value:e.goToDate,callback:function(t){e.goToDate=t},expression:"goToDate"}})],1),s("b-dropdown-item",{attrs:{href:"javascript:void(0)"}},[s("radio-o-f",{attrs:{id:"filter-go-to-date",value:e.selectedPostDate,label:e.dateLabelTitle,name:"posts-filter-field"},on:{click:e.goToDateDatepicker},model:{value:e.goToDate,callback:function(t){e.goToDate=t},expression:"goToDate"}})],1),s("b-dropdown-divider")],e._l(e.controls,(function(t,i){return[Object.keys(e.controls)[0]!==i?s("b-dropdown-divider",{key:`divider-${i}`}):e._e(),e._l(t,(function({value:t,label:o}){return s("b-dropdown-item",{key:`${i}-${t}`,attrs:{href:"javascript:void(0)"}},[s("radio-o-f",{attrs:{id:`${i}-${t}`,value:t,name:`posts-${i}-field`,label:o},on:{change:function(t){return e.modelsChangeHandler("dir"===i)}},model:{value:e.models[i],callback:function(t){e.$set(e.models,i,t)},expression:"models[index]"}})],1)}))]}))],2),e.isShowDatepicker?s("portal",{attrs:{to:"main-datepicker-container"}},[s("datetime",{ref:"goToDateDatepicker",staticClass:"b-datepicker-input custom-datepicker",attrs:{format:e.DATE_FORMAT_FULL_MONTH,"min-datetime":e.minDatetime,"max-datetime":e.actualDate,title:e.$t("message.filter_go_to_date_label")},on:{input:e.onSelectDate,show:e.onOpenGoToDate,hidden:e.onCloseGoToDate},scopedSlots:e._u([{key:"button-cancel",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width custom-datepicker-button-cancel",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")])]},proxy:!0},{key:"button-confirm",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-reset-width m-btn-gaps",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("message.confirm_ok_button"))+" ")])]},proxy:!0}],null,!1,85182606),model:{value:e.selectedPostDate,callback:function(t){e.selectedPostDate=t},expression:"selectedPostDate"}})],1):e._e()],1)},o=[],a=s(218111),n=s(22489),r=s(725440),l=s(974353),u=s.n(l),d=s(788569),c=s.n(d),p=s(683826),h=s.n(p),m=s(110908),_=s(68604),g=s(486433),v=s(82796),b=s(808874),f=s(463670),y=s(248806),P=s(600958),w=s(743773);u().extend(h()),u().extend(c());var C,T={name:"PostFilter",components:{RadioOF:v.A,DropdownWrapper:g.A,Datetime:_.Datetime},props:{hideTips:{type:Boolean,default:!1},disabledState:{type:Boolean,default:!1},isHideFilterOrders:{type:Boolean,default:!1},onPostDateSelected:{type:Function,default:null}},setup(){const{enableBodyScroll:t,disableBodyScroll:e,TOGGLE_BODY_SCROLL_IDS:s}=(0,b.A)();return{TOGGLE_BODY_SCROLL_IDS:s,enableBodyScroll:t,disableBodyScroll:e}},data(){return{models:{filter:y.HR.DATE_ALL_TIME,order:y.x2.PUBLISH_DATE,dir:f.sF.DESCENDING},goToDate:y.HR.DATE_ALL_TIME,DEFAULT_FILTER_DATE_ALL_TIME:y.HR.DATE_ALL_TIME,minDatetime:u()().format(),selectedPostDate:null,isShowDatepicker:!1}},computed:{...(0,m.ZOz)(["user"]),DATE_FORMAT_FULL_MONTH(){return f.YA},actualDate(){return u()().toISOString()},showDefaultFilters(){var t;return![P.A.PROFILE,P.A.PROFILE_INNER,P.A.PROFILE_SEARCH].includes(this.$route.name)||!(null!==(t=this.user)&&void 0!==t&&t.firstPublishedPostDate)},dateLabelTitle(){return this.goToDate&&this.goToDate!==y.HR.DATE_ALL_TIME?u()(this.goToDate).format(f.tR):this.$t("message.filter_go_to_date_label")},controls(){const t=[{value:y.HR.DATE_ALL_TIME,label:this.$t("message.filter_all_time_label")},{value:"date_last_3_months",label:this.$t("message.filter_last_3_months_label")},{value:"date_last_1_month",label:this.$t("message.filter_last_month_label")},{value:"date_last_1_week",label:this.$t("message.filter_last_week_label")}],e=[{value:f.sF.ASCENDING,label:this.$t("message.sort_ascending_label")},{value:f.sF.DESCENDING,label:this.$t("message.sort_descending_label")}],s=[{value:y.x2.PUBLISH_DATE,label:this.$t("message.sort_latest_posts_label")},{value:"favorites_count",label:this.$t("message.sort_most_liked_label")},!this.hideTips&&{value:"tips_summ",label:this.$t("message.sort_highest_tips_label")}].filter(Boolean);return{...this.showDefaultFilters?{filter:t}:{},...this.isHideFilterOrders?{}:{order:s},dir:e}},millisecondsDate(){return+u()(this.goToDate).tz(u().tz.guess())[this.models.dir===f.sF.DESCENDING?"endOf":"startOf"]("d").format("X.SSSSSS")}},watch:{goToDate(t){if(t){let e;t!==y.HR.DATE_ALL_TIME?(this.selectedPostDate=t,e=this.millisecondsDate):(this.selectedPostDate=null,e=t),this.setGoToPostDate(e),"function"==typeof this.onPostDateSelected&&this.onPostDateSelected(e)}else this.selectedPostDate=y.HR.DATE_ALL_TIME},"$route.query":{handler(){this.$nextTick((()=>{const{order:t,filter:e}=this.$route.query;if(t){const e=t.split("_");this.models.dir=e.pop(),this.models.order=e.join("_")}else this.models.dir=f.sF.DESCENDING,this.models.order=y.x2.PUBLISH_DATE;this.models.filter=this.showDefaultFilters&&e||y.HR.DATE_ALL_TIME}))},immediate:!0}},methods:{...(0,m.yKE)(["setGoToPostDate"]),modelsChangeHandler(t){t&&this.goToDate!==y.HR.DATE_ALL_TIME&&(this.setGoToPostDate(this.millisecondsDate),"function"==typeof this.onPostDateSelected&&this.onPostDateSelected(this.millisecondsDate));const e=`${this.models.order}_${this.models.dir}`,{filter:s}=this.models,{query:i}=this.$route,o=Object.assign({},i);e!==`${y.x2.PUBLISH_DATE}_${w.F.DESC}`?o.order=e:delete o.order,s!==y.HR.DATE_ALL_TIME?o.filter=s:delete o.filter,null!=o&&o.q||delete o.q,this.$router.replace({query:o})},goToDateDatepicker(){var t;null!==(t=this.user)&&void 0!==t&&t.firstPublishedPostDate&&(this.isShowDatepicker=!0,this.minDatetime=this.user.firstPublishedPostDate,this.$nextTick((()=>{this.$refs.goToDateDatepicker.isOpen=!0})))},onOpenGoToDate(){this.disableBodyScroll(this.TOGGLE_BODY_SCROLL_IDS.POSTS.POST_FILTER)},onCloseGoToDate(){this.isShowDatepicker=!1,this.goToDate||(this.goToDate=y.HR.DATE_ALL_TIME,this.selectedPostDate=null),this.enableBodyScroll(this.TOGGLE_BODY_SCROLL_IDS.POSTS.POST_FILTER)},onSelectDate(t){t&&(this.goToDate=t)}}},A,D,k=(0,s(281656).A)(T,i,o,!1,null,null,null).exports},838759:function(t,e,s){s.d(e,{A:function(){return r}});var i=s(320555),o=s(894136),a,n,r=(0,s(281656).A)(o.A,i.X,i.Y,!1,null,"dcce9aee",null).exports},894136:function(t,e,s){s.d(e,{A:function(){return h}});var i=s(110908),o=s(148824),a=s(942108),n=s(178688),r=s(305693),l=s(806441),u=s(775074),d=s(456908),c=s(490677),p,h={name:"PostRestricted",components:{UnknownPost:u.A,SubscribeBtn:o.A,PostSubscribeBlock:a.A},mixins:[n.A,r.A,l.A],props:{id:{type:Number,required:!0},postsCounter:{type:Boolean,required:!1},text:{type:String,default:void 0},withDefaultBg:{type:Boolean,default:!0}},computed:{...(0,i.ZOz)(["getUser"]),showPostsCounter(){return this.postsCounter&&!!this.user.postsCount},messageText(){return this.isMessage?this.text||this.$t("message.message_is_unavailable"):""}},methods:{...(0,i.CXg)(["fetchUser","fetchSubscriptionsCount"]),...(0,i.ZDR)(["updateSubscribe"]),async doSubscribePay(){const{id:t}=this.user,e=(0,d.W)(this.$route.name),s=await this.makePayments({paymentType:"subscribe",userId:t,subscribeSource:e,amount:this.user.subscribePrice,modalTitle:this.$t("message.confirm_subscription_payment_title")},this.doSubscribePay);null!=s&&s.id&&(this.$root.$emit("subscribe::user::beforeFinish"),this.updateSubscribe(s),this.fetchSubscriptionsCount(),this.$root.$emit("subscribe::user::finish")),null!=s&&s.success||203!==(null==s?void 0:s.errorCode)||(window.showPreloader(),await this.fetchUser({id:t}),(0,c.Ni)({message:this.$t("message.subscription_price_has_changed")}),window.hidePreloader())}}}},902934:function(t,e,s){s.d(e,{A:function(){return d}});var i=function t(){var e=this,s=e._self._c;return s("b-modal",{attrs:{size:"sm","hide-header-close":"",lazy:"",centered:""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.unsend_messagee_popup_title"))+" ")])]},proxy:!0},{key:"modal-footer",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button"},on:{click:e.doCancel}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button",disabled:!e.unsendType},on:{click:e.doAgree}},[e._v(" "+e._s(e.$t("message.dialog_unsend_chat_message_button"))+" ")])]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},e._l(e.types,(function({value:t,label:i}){return s("div",{key:t,staticClass:"g-input__wrapper m-radio-wrapper"},[s("radio-o-f",{attrs:{id:`${t}_unsend`,value:t,label:i},model:{value:e.unsendType,callback:function(t){e.unsendType=t},expression:"unsendType"}})],1)})),0)},o=[],a,n,r={name:"ModalUnsendMessages",components:{RadioOF:s(82796).A},props:{modalShow:{type:Boolean,required:!0}},data(){return{unsendType:""}},computed:{show:{get(){return this.modalShow},set(t){this.$emit("update:modalShow",t),t||this.$emit("on-hide")}},types(){return[{value:"current",label:this.$t("message.chat_unsend_in_this_dialog")},{value:"queue",label:this.$t("message.chat_unsend_this_mass_message")}]}},methods:{doAgree(){this.$emit("on-agree",this.unsendType)},doCancel(){this.$emit("on-cancel"),this.unsendType&&(this.unsendType="")}}},l,u,d=(0,s(281656).A)(r,i,o,!1,null,null,null).exports},912288:function(t,e,s){s.d(e,{A:function(){return T}});var i=function t(){var e=this,s=e._self._c;return s("div",{staticClass:"g-page-content__body",class:{"d-flex flex-column flex-fill":e.emptyCondition,"m-temp-height":e.showTempHeight,"mt-auto mb-auto":!e.posts.length}},[e.isShow?[e.isGridLayout||1!==e.posts.length?[s("dynamic-scroller-wrapper",{staticClass:"g-negative-sides-gaps",class:{"b-photos":e.isGridLayout,"mb-0":e.emptyCondition&&e.isGridLayout},attrs:{items:e.isGridLayout?e.postsChunked:e.posts,"min-item-size":e.minItemSize,"unique-id":e.uniqueId,buffer:768,"page-mode":""},scopedSlots:e._u([{key:"default",fn:function({item:t,index:i,active:o}){return[s("dynamic-scroller-item",{staticClass:"dynamic-scroller-item",class:{"g-sides-gaps":!e.isGridLayout},attrs:{item:t,active:o,"size-dependencies":[t.text],index:i},on:{mouseleave:function(t){return e.$emit("mouseLeave")}}},[e.isGridLayout?[e._l(t.chunk,(function(t,i){return s("users-post-grid",{key:`${t.post?t.post.id:t.id}-${i}`,staticClass:"m-square",attrs:{post:t.post?t.post:t,"need-lightbox":e.needLightbox,content:e.showContent?t.content:"",avatar:e.hasAvatarInGrid},on:{mediaDetails:function(t){return e.$emit("mediaDetails",t)}}})})),e.isAddPostsButtonVisible&&t.chunk&&e.isAddPostsButtonVisible(i,t.chunk.length)?s("button",{staticClass:"b-new-event-btn",class:{"m-md-size":!e.posts.length||!e.isGridLayout,"m-square mb-0":e.posts.length&&e.isGridLayout},attrs:{type:"button"},on:{click:function(t){return e.$emit("enableAddPostsMode")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-add",arg:"icon-add"}]})]):e._e()]:s("users-post-wrapper",{key:t.id,attrs:{post:t,"post-media-styles":e.postMediaStyles}})],2)]}},{key:"after",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)}),e.isInfiniteLoading?s("infinite-loading",{key:e.infiniteId,ref:"infiniteLoader",attrs:{distance:1200},on:{infinite:e.infiniteHandler},scopedSlots:e._u([{key:"spinner",fn:function(){return[s("spinner-loader",{class:e.stateLoading})]},proxy:!0},{key:"error",fn:function({trigger:t}){return[e.isAddPostsButtonVisible?s("div",[s("p",{staticClass:"empty-message show"},[e._v(" "+e._s(e.$t("message.chat_message_sending_error_undefined"))+" ")]),s("button",{staticClass:"g-btn m-rounded",attrs:{type:"button"},on:{click:t}},[e._v(" "+e._s(e.$t("message.retry"))+" ")])]):e._e()]}}],null,!1,2448645479)},[s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e()]:s("users-post-wrapper",{attrs:{post:e.posts[0],"post-media-styles":e.postMediaStyles}})]:e._e(),e.emptyCondition?s("nothing-found",{attrs:{"image-src":e.emptyImageSrc,"text-message":e.noPostsText}}):e._e()],2)},o=[],a=s(962193),n=s.n(a),r=s(944114),l=s(218111),u=s(18237),d=s(332252),c=s.n(d),p=s(393138),h=s(26799),m=s(730394),_=s(683502),g=s(969535),v=s(654582),b=s(43253),f=s(561594),y,P={name:"DynamicScrollerPosts",components:{DynamicScrollerWrapper:_.A,DynamicScrollerItem:v.nM,UsersPostWrapper:p.A,UsersPostGrid:h.A,InfiniteLoading:c(),SpinnerLoader:m.default,NothingFound:g.A},mixins:[b.A,f.A],props:{infiniteHandler:{type:Function,required:!0},isInfiniteLoading:{type:Boolean,default:!0},emptyCondition:{type:Boolean,default:!1},posts:{type:Array,default:()=>[]},isGridLayout:{type:Boolean,required:!0},showContent:{type:Boolean,required:!1},needLightbox:{type:Boolean,required:!1},infiniteId:{type:Number,default:+new Date},isShow:{type:Boolean,default:!0},minItemSize:{type:Number,default:164},isAddPostsButtonVisible:{type:[Function,null],default:null},emptyConditionText:{type:String,default:""},emptyConditionIcon:{type:String,default:"labels"},hasAvatarInGrid:{type:Boolean,default:!0},postMediaStyles:{type:Object,default:null},uniqueId:{type:String,default:""}},data(){return{showTempHeight:!1}},computed:{postsChunked(){return this.posts.reduce(((t,e,s)=>{const i=Math.floor(s/3);return t[i]?t[i].chunk.push(this.posts[s]):t[i]={id:i,chunk:[this.posts[s]]},t}),[])},contentType(){var t;return(null===(t=this.postType)||void 0===t?void 0:t.substring(0,this.postType.length-1))||"other"},hasFilterOrSort(){return!n()(this.$route.query)},noPostsText(){return this.hasFilterOrSort?this.$t("message.nothing_found_message"):this.emptyConditionText||this.$t("message.message_no_posts_yet")},stateLoading(){return this.posts.length?(this.isGridLayout?"m-gaps":"m-pb-16")+" m-gray-color":"b-spinner-processing"},emptyImageSrc(){return`empty-${this.hasFilterOrSort?"search":this.emptyConditionIcon}.svg`}},watch:{isGridLayout(t){t&&(this.showTempHeight=!0,this.$nextTick((()=>{requestAnimationFrame((()=>{this.showTempHeight=!1}))})))}}},w,C,T=(0,s(281656).A)(P,i,o,!1,null,"9fd626aa",null).exports},931478:function(t,e,s){s.d(e,{A:function(){return C}});var i=function t(){var e=this,s=e._self._c;return s("dropdown-wrapper",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_more"),expression:"$t('message.tooltip_more')"}],ref:"postDropdown",staticClass:"b-post__tools__more m-not-width-limit m-size-lg m-center",attrs:{"toggle-class":"m-post-btn m-gray",variant:"link",offset:"4"},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-more",arg:"icon-more"}]})]},proxy:!0}])},[e._l(e.items,(function({name:t,disabled:i,classes:o,clickHandler:a,isIconCondition:n,title:r,isDivider:l,linkTo:u},d){return[l?s("b-dropdown-divider",{key:`divider_${d}`}):t?e._t(t):[u?s("li",{key:`li_${d}`},[s("custom-link",{staticClass:"dropdown-item",attrs:{to:u},on:{click:a}},[e._v(" "+e._s(r)+" ")])],1):s("b-dropdown-item-button",{key:`dropdown-item-button_${d}`,class:o||"",attrs:{disabled:i},on:{click:a}},[e._v(" "+e._s(r)+" "),n?s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-info",arg:"icon-info"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.post_dropdown_pin_item_limit_reached"),classes:"m-tooltip-higher"},expression:"{\n              content: $t('message.post_dropdown_pin_item_limit_reached'),\n              classes: 'm-tooltip-higher'\n            }"}]})]):e._e()])]]}))],2)},o=[],a=s(944114),n=s(218111),r=s(22489),l=s(725440),u=s(110908),d=s(486433),c=s(602757),p=s(885572),h=s(918765),m=s(905016),_=s(324211),g=s(139162),v=s(977434),b=s(130641),f,y={name:"PostDropdown",components:{DropdownWrapper:d.A},mixins:[c.A],props:{post:{type:Object,required:!0},authorUserName:{type:String,required:!0},isRestoreFromPublicArchiveButtonDisabled:{type:Boolean,default:!1},isRestoreFromPrivateArchiveButtonDisabled:{type:Boolean,default:!1}},setup(){const{isActivePurchasedFilter:t}=(0,p.A)(),{preparedLabelId:e}=(0,h.A)();return{isActivePurchasedFilter:t,activeProfilePostLabelChipsID:e}},computed:{...(0,u.npG)(["authUser","authUserId"]),...(0,u.Hdj)(["getInit"]),...(0,u.NQL)(["isToggleArchivePostLoading","isTogglePinPostLoading"]),...(0,u.vrn)(["activePostLabel"]),items(){var t;const{id:e,isArchived:s,isPrivateArchived:i,isPinned:o,media:a,rawText:n,author:r}=this.post,l=this.postMixin_isTypePost&&this.postMixin_isPostUser&&!s&&!i,u=!o&&this.authUser.pinnedPostsCount>=(null===(t=this.getInit.personalConfig)||void 0===t?void 0:t.max_pinned_posts_count),d="StatisticsOverview"===this.$route.name,c=this.authorUserName,p=!this.postMixin_isPostDeleted||this.postMixin_canEdit||!this.postMixin_isPostDeleted&&l||this.postMixin_canSendPostToArchive||d||this.postMixin_canShowWhoBought,h=this.postMixin_canSharePost?"share":"copy",_=this.postMixin_isTypePost?"":"_message",g=this.$t(`message.post_dropdown_${h}_link_item${_}`),v=r===this.authUserId&&Boolean(a.length||n);return[!this.postMixin_isPostDeleted&&{title:g,clickHandler:this.postMixin_doCopyPostLink},!this.postMixin_isPostDeleted&&l&&{classes:"b-post__btn-pin",disabled:this.isTogglePinPostLoading,clickHandler:this.doPinPost,title:this.$t("message.post_dropdown_"+(o?"unpin_item_new":"pin_item")),isIconCondition:u},!this.postMixin_isPostDeleted&&l&&{name:"pinSlot"},this.isActivePurchasedFilter&&{name:"purchased-post-pin-actions"},v&&{disabled:!!this.post.mediaCount&&!this.post.isMediaReady,clickHandler:()=>{window.showPreloader(),setTimeout((()=>{this.$root.$emit("story::create::new",{post:this.post})}),300)},title:this.$t("message.share_post_to_story")},d&&{clickHandler:()=>{this.$router.replace({name:"Post",params:{postId:e,userId:c}})},title:this.$t("message.view_post_btn")},this.postMixin_canEdit&&{clickHandler:()=>{this.$router.push({name:"PostsEdit",params:{postId:e}})},title:this.$t("message.post_dropdown_edit_item")},this.postMixin_canSendPostToArchive&&{disabled:this.isRestoreFromPublicArchiveButtonDisabled||this.isToggleArchivePostLoading,clickHandler:()=>this.toggleArchivePost({postId:e,callback:this.triggerToast}),title:this.$t(`message.${s?"un":""}archive_post_btn`)},this.postMixin_canSendPostToArchive&&{disabled:this.isRestoreFromPrivateArchiveButtonDisabled||this.isToggleArchivePostLoading,clickHandler:()=>this.toggleArchivePost({postId:e,isPrivate:!0,callback:this.triggerToast}),title:this.$t(`message.${i?"un":"private_"}archive_post_btn`)},this.postMixin_canSendPostToArchive&&this.postMixin_canViewStat&&{clickHandler:()=>{this.$root.$emit("show:release-form:modal",e)},title:this.$t("message.add_a_tag")},this.postMixin_canShowWhoBought&&{clickHandler:()=>{this.$root.$emit("bv::show::user-list",{type:m.CX,params:{post:this.post}})},linkTo:{name:m.CX,params:{postId:e,userId:c}},title:this.$t("message.show_who_bought_post_label")},{name:"asideSlot"},this.postMixin_canViewStat&&p&&{isDivider:!0},this.postMixin_canViewStat&&{clickHandler:()=>{this.postMixin_canViewStat&&e&&this.$root.$emit("show:post:stat:popup",this.post)},title:this.$t("message.message_view_detailed_statistic")}].filter(Boolean)}},methods:{...(0,u.$GZ)(["pinPostAction","toggleArchivePost"]),doPinPost(){const{id:t}=this.post||{},e=this.post?(0,_.D)(this.post):null,{name:s,query:i,query:{order:o,filter:a},params:{postType:n}}=this.$route,r=a||o&&"publish_date_asc"!==o?void 0:0;this.pinPostAction({id:t,pinned:r,isProfilePage:"Profile"===s,userPostsParams:{id:e,type:n,query:i,order:o,filter:a,pinned:r,label:this.activePostLabel||this.activeProfilePostLabelChipsID}})},triggerToast(t,e){this.$nextTick((()=>{const s=`post_moved${e?"_from":"_to"}${t?"_private":""}_archive_toast`,i=`${s}_${this.post.id}`,o=[this.$createElement("span",{domProps:{innerHTML:this.$t(`message.${s}`,{POST_URL:`/${this.post.id}/${this.authUser.username}`,ARCHIVE_URL:`/${this.authUser.username}/${t?"private_":""}archived`})},on:{click:v.De}})];e||o.push(this.$createElement("button",{class:"toast-btn",domProps:{innerHTML:(0,b.GT)("icon-undo",{className:""})},on:{click:()=>{this.$bvToast.hide(i),this.toggleArchivePost({postId:this.post.id,isPrivate:t,callback:this.triggerToast})}}})),this.$bvToast.toast(o,{id:i,...g.fy})}))}}},P,w,C=(0,s(281656).A)(y,i,o,!1,null,null,null).exports},967623:function(t,e,s){s.d(e,{A:function(){return m}});var i=function t(){var e=this,s=e._self._c;return s("div",[s("b-dropdown-item-button",{staticClass:"b-post__btn-pin",attrs:{disabled:e.isProcessingPinPurchasedPost},on:{click:e.togglePinPurchasedPost}},[e._v(" "+e._s(e.togglePinningButtonText)+" "),e.isPinLimitIconShow?s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-info",arg:"icon-info"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.pinLimitIconTooltipText,classes:"m-tooltip-higher"},expression:"{\n          content: pinLimitIconTooltipText,\n          classes: 'm-tooltip-higher'\n        }"}]})]):e._e()]),e.isAvailableMoveUpDownActions?s("div",[e.isFirstPinnedPost?e._e():s("b-dropdown-item-button",{staticClass:"b-post__btn-pin",attrs:{disabled:e.isProcessingChangeOrderPinPosts},on:{click:e.movePurchasedPinnedPostUp}},[e._v(" "+e._s(e.$t("message.move_pinned_post_up"))+" ")]),e.isLastPinnedPost?e._e():s("b-dropdown-item-button",{staticClass:"b-post__btn-pin",attrs:{disabled:e.isProcessingChangeOrderPinPosts},on:{click:e.movePurchasedPinnedPostDown}},[e._v(" "+e._s(e.$t("message.move_pinned_post_down"))+" ")])],1):e._e()],1)},o=[],a=s(885471),n=s(444962),r=s(885572),l=s(577641),u=s(178863),d,c={name:"PinPurchasedPost",props:{post:{type:Object,required:!0}},setup(t){const{post:e}=(0,a.toRefs)(t),{t:s}=(0,n.A)(),{purchasedPinnedPostIds:i}=(0,r.A)(),{itemResponseType:o,isPinnedPurchasedPost:d,isProcessingPinPurchasedPost:c,isProcessingChangeOrderPinPosts:p,MAX_PINNED_ITEMS:h,savePinnedPostsOrder:m,togglePinPurchasedPost:_}=(0,l.A)(e),g=(0,a.computed)((()=>s(`message.${o.value}_dropdown_${d.value?"unpin":"pin"}_purchased_item`))),v=(0,a.computed)((()=>d.value&&i.value[0]===e.value.id)),b=(0,a.computed)((()=>d.value&&i.value[i.value.length-1]===e.value.id)),f=(0,a.computed)((()=>d.value&&i.value.length>1)),y=(0,a.computed)((()=>!d.value&&i.value.length>=h)),P=(0,a.computed)((()=>s("message.dropdown_pin_purchased_item_limit_reached"))),w=(t=1)=>{const s=i.value.indexOf(e.value.id);if(-1===s)return;const o=(0,u.Rb)(i.value,s,s+t);m(o)},C=undefined,T=undefined;return{isLastPinnedPost:b,isFirstPinnedPost:v,isPinLimitIconShow:y,isPinnedPurchasedPost:d,purchasedPinnedPostIds:i,togglePinningButtonText:g,pinLimitIconTooltipText:P,isProcessingPinPurchasedPost:c,isAvailableMoveUpDownActions:f,isProcessingChangeOrderPinPosts:p,movePurchasedPinnedPostUp:()=>w(-1),movePurchasedPinnedPostDown:()=>w(),togglePinPurchasedPost:_}}},p,h,m=(0,s(281656).A)(c,i,o,!1,null,null,null).exports}}]);