"use strict";(self.webpackChunkof_vue=self.webpackChunkof_vue||[]).push([[13501,39030,73110],{43253:function(e,s,t){var i=t(142877),r=t.n(i),n=t(858156),o=t.n(n),a=t(944114),u=t.n(a),c=t(218111),h=t.n(c),l=t(22489),d=t.n(l),b=t(720116),p=t.n(b),_=t(607588),m=t.n(_),f=t(18237),g=t.n(f),w=t(463670);s.A={name:"PostsMixin",computed:{postType(){return this.$route.params.postType||this.$route.query.type},postsGrid(){return this.preparePosts(this.posts,this.postType)},postsMixinIsArchivedPost(){var e,s;return(null===(e=this.post)||void 0===e?void 0:e.isArchived)||(null===(s=this.post)||void 0===s||null===(s=s.labelStates)||void 0===s?void 0:s.find((e=>"archived"===e)))}},methods:{getMediaType(e){const s=undefined;return{photos:"photo",videos:"video",audios:"audio"}[e]||e||""},getProcessedRecentPosts(e){if(null==e||!e.length)return[];const s=e.filter((e=>e&&!e.isReportedByMe)).reduce(((e,s)=>{var t;return null!=s&&null!==(t=s.media)&&void 0!==t&&t.length?s.price&&!s.isOpened?(e.push({isLocked:!0,post:s}),e):(s.media.forEach((t=>{w.A2.includes(t.type)&&e.push({isLocked:!1,post:{...s,mediaCount:1,media:[t]}})})),e):e}),[]);return r()(s,["post.postedAt"],"desc")},preparePosts(e,s,t=!1){if(!e||!e.length)return[];const i=this.getMediaType(s);return e.filter((e=>e&&!e.isReportedByMe)).reduce(((e,s)=>(i&&"locked"!==i||!s.price||s.isOpened||e.push({post:{...s}}),i&&"other"!==i||!s.text||!s.text.length||t&&o()(s,"media.length")||e.push({post:{...s,mediaCount:0,media:[],price:null}}),o()(s,"media.length")&&s.media.forEach(((r,n)=>{t&&n||(!i||"media"===i||r.type===i||"gif"===r.type&&"video"===i)&&e.push({post:{...s,text:"",mediaCount:1,media:[r],price:null}})})),e)),[])}}}},221396:function(e,s,t){var i=t(885471);function r(){const{proxy:e}=(0,i.getCurrentInstance)(),s=undefined,t=undefined,r=undefined,n=undefined;return{isMobileMQ:(0,i.computed)((()=>"sm"===e.$mq)),isTabletMQ:(0,i.computed)((()=>"md"===e.$mq)),isDesktopMQ:(0,i.computed)((()=>"lg"===e.$mq)),isSmsResolutionMQ:(0,i.computed)((()=>"sms"===e.$mq))}}s.A=r},235615:function(e,s,t){var i=t(110908),r=t(600958),n=t(667747);s.A={mixins:[n.A],computed:{...(0,i.npG)(["isAuth","authUser"]),...(0,i.RAO)(["spotifyBio"]),...(0,i.d7f)(["profileHighlights"]),...(0,i.GQs)(["getSubscriber"]),...(0,i._84)(["nfts","userLinks"]),...(0,i.ZOz)(["user","hasUser"]),showStoryBlock(){return this.user.canLookStory&&(this.user.hasStories||this.user.hasStream||this.user.hasScheduledStream||this.profileHighlights&&this.profileHighlights.length)||this.isAuthUser&&this.user.canAddStory},showShopify(){return!this.isProfileUserPrivate&&this.user.hasShopifyStores},showSpringStore(){return!this.isProfileUserPrivate&&!!this.user.isPerformer&&!!this.user.isSpringConnected},showSpotify(){var e;return this.isAuthUser||!this.isProfileUserPrivate&&this.user.isSpotifyConnected&&!!(this.spotifyBio.anthem||null!==(e=this.spotifyBio.topArtists)&&void 0!==e&&e.length)},showFriendBlock(){return!(!this.user.hasFriends||!this.user.isPerformer)},isProfileRoute(){return[r.A.PROFILE,r.A.PROFILE_INNER,r.A.PROFILE_LABEL].includes(this.$route.name)},showGuestFanSuggestionsBlock(){return this.isProfileRoute&&!this.isAuth&&!this.user.isPerformer&&"lg"===this.$mq},isShowLastsPhotosBlock(){return"lg"===this.$mq&&!!this.user.photosCount&&this.user.isPerformer&&!this.user.isBlocked&&!this.isMyProfileHasScenario&&(this.isAuthUser||this.user.subscribedBy)},hasSidebarContent(){return this.hasUser&&(this.isAuthUser||this.showStoryBlock||this.isShowLastsPhotosBlock||this.user.canAddSubscriber||this.showGuestFanSuggestionsBlock||this.isListVisible)},isListVisible(){return this.hasUser&&(this.authUser.isPerformer&&this.isSubscriber||this.isUserLinks||this.isUserNfts||this.showShopify||this.showSpringStore||this.showFriendBlock||this.showSpotify||this.isOffersBlock||this.hasSubscriptionPromo)},isShowSidebar(){return!this.isProfileUserBlocked&&(!this.isHasScenario&&(this.hasSidebarContent||this.hasSidebarBanner))},hasSidebarBanner(){var e;return!(null===(e=this.authUser)||void 0===e||null===(e=e.advBlock)||void 0===e||!e.includes("banners"))},subscriber(){return this.getSubscriber(this.user.id)||{}},isSubscriber(){return this.subscriber&&Object.keys(this.subscriber).length},isProfileUserBlocked(){return this.hasUser&&!this.isAuthUser&&this.user.isBlocked},isProfileUserPrivate(){return!this.isAuthUser&&this.hasUser&&this.user.isPrivateRestriction&&!this.user.subscribedBy},isDesktop(){return"lg"===this.$mq},isUserLinks(){return this.userLinks&&!!this.userLinks.length},isUserNfts(){return this.user.openseaInfo.hasNft&&!!this.nfts.length},isOffersBlock(){return!(!this.isDesktop||this.isAuthUser)&&(!!this.user.subscribedBy||this.user.canAddSubscriber)},hasSubscriptionPromo(){return this.isDesktop&&this.isAuthUser&&this.authUser.isPerformer}},methods:{...(0,i.CXg)(["fetchUserLinks","fetchNfts"]),...(0,i.drY)(["fetchSpotifyBio"]),...(0,i.sxm)(["resetSpotifyBio","clearOpenSeaAssets"]),...(0,i.tSh)(["resetUserLinks"])}}},278162:function(e,s,t){var i=t(944114),r=t.n(i),n=t(218111),o=t.n(n),a=t(22489),u=t.n(a),c=t(18237),h=t.n(c),l=t(725440),d=t.n(l),b=t(842762),p=t.n(b),_=t(142877),m=t.n(_),f=t(957903);s.A={methods:{highlight({text:e,query:s,className:t,highlightMinLength:i}){if("string"!=typeof e||"string"!=typeof s)return e;let r=(0,f.pQ)(e,{transformFrom:"encoded",transformTo:"placeholder"});const n=Number(i)||0,o=undefined;let a=s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&").split(" ").filter((e=>e.length>=n));a=a.reduce(((e,s)=>{const t=(0,f.pQ)(s,{transformFrom:"decoded",transformTo:"placeholder"});return s!==t&&e.push(t),e.push(s),e}),[]);const u=undefined,c=m()(a,"length",["desc"]).join(" ").trim().replace(/\s+/g,"|"),h=new RegExp(`(?![^<]*>)(${c})(?![^<]*>)`,"gmi");return r=r.replace(h,(e=>`<span class="${t}">${e}</span>`)),r=(0,f.pQ)(r,{transformFrom:"placeholder",transformTo:"encoded"}),r}}}},382777:function(e,s,t){t.d(s,{S1:function(){return E},hf:function(){return S},lS:function(){return D},sO:function(){return T}});var i=t(218111),r=t.n(i),n=t(607588),o=t.n(n),a=t(962953),u=t.n(a),c=t(803296),h=t.n(c),l=t(527208),d=t.n(l),b=t(548408),p=t.n(b),_=t(814603),m=t.n(_),f=t(147566),g=t.n(f),w=t(198721),P=t.n(w),y=t(885471);const v=["CloudFront-Policy","CloudFront-Signature","CloudFront-Key-Pair-Id"],S=(e,s="/")=>{e&&Object.keys(e).forEach((t=>{y.default.$cookies.set(t,e[t],"1d",s)}))},T=(e,s="/")=>{e&&Object.keys(e).forEach((e=>{y.default.$cookies.remove(e,s)}))},E=()=>{v.forEach((e=>{y.default.$cookies.remove(e)}))},D=e=>{const s=new URL(e);return s.pathname.substring(0,s.pathname.lastIndexOf("/"))+"/"}},389527:function(e,s,t){var i=t(16280),r=t.n(i),n=t(378347),o=t.n(n),a=t(885471),u=t(620288),c=t(445948),h=t(980471);const l=(0,a.ref)({});function d(){const e=e=>Object.hasOwn(l.value,e),s=undefined,t=undefined,i=(e,s,{offset:t=0,behavior:i=c.r0.INSTANT})=>new Promise((r=>{const{$el:n,direction:o}=l.value[e].$refs.scroller;let a=(0,u.CR)(n),c=s+t;if(a===document.body){a=window;const{left:e,top:s}=n.getBoundingClientRect();c+="vertical"===o?window.scrollY+s:window.scrollX+e}a.scrollTo({left:"vertical"===o?0:c,top:"vertical"===o?c:0,behavior:i});const h=()=>{a.removeEventListener("scrollend",h),r()};a.addEventListener("scrollend",h)})),r=(e,s)=>{if(!e)throw new Error("scrollToItem: scrollerId must be provided");const t=!isNaN(s)&&s>=0?Number(s):0,{sizes:i,$el:r}=l.value[e].$refs.scroller;if(!Object.hasOwn(i,t))throw new Error("scrollToItem: can not find scroller item with current index");const n=(0,h.P_)(null==r?void 0:r.offsetTop),{accumulator:o,size:a}=i[t];return o-a+n},n=async(s,t,{offset:o=0,behavior:a=c.r0.INSTANT})=>{if(!s)throw new Error("scrollToItem: scrollerId must be provided");const{pageMode:u}=l.value[s].$refs.scroller;if(!u)throw new Error("scrollToItem: method works only in page mode");const d=undefined;if(!e(s))throw new Error("scrollToItem: can not find scroller with current scrollerId");const b=r(s,t),p=(0,h.P_)(o),_=Object.values(c.r0).includes(a)?a:c.r0.INSTANT;await i(s,b,{offset:p,behavior:_}),b!==r(s,t)&&await n(s,t,{offset:o,behavior:a})};return{scrollToItem:n,registerDynamicScroller:(s,t)=>{if(!s)throw new Error("registerDynamicScroller: scrollerId must be provided");if(null==t||!t.value)throw new Error("registerDynamicScroller: scrollerRef must be provided");const i=undefined;e(s)||(l.value[s]=t.value)},unregisterDynamicScroller:s=>{if(!s)throw new Error("registerDynamicScroller: scrollerId must be provided");const t=undefined;e(s)&&delete l.value[s]}}}s.A=d},395777:function(e,s,t){var i=t(826489),r=t.n(i);s.A={data(){return{resolutionsMixin_isMobileIosEdgeChrome:i.isMobile&&i.isIOS&&(i.isEdge||i.isChrome)}}}},438896:function(e,s,t){var i=t(858156),r=t.n(i),n=t(218111),o=t.n(n),a=t(720116),u=t.n(a),c=t(13579),h=t.n(c),l=t(974353),d=t.n(l),b=t(110908),p=t(191646);s.A={mixins:[p.tD,p.wd],props:{id:{type:Number,required:!0}},computed:{...(0,b.ZOz)(["userId","user","getUser"]),...(0,b.klx)(["getSubscribe"]),...(0,b.WsE)(["currentDate"]),user(){return this.getUser(this.id)},subscribe(){return this.getSubscribe(this.id)},promotionAll(){return r()(this,"user.promotions",[]).find((e=>"all"===e.type))},promotionExpired(){return r()(this,"user.promotions",[]).find((e=>"expired"===e.type))},promotion(){return this.promotionAll||this.promotionExpired},hasNewSubscribeData(){return!!(this.subscribedBy&&this.subscribe&&this.subscribe.subscribes.length)},currentSubscribeData(){return this.hasNewSubscribeData&&this.subscribe.subscribes.find((e=>e.isCurrent))||{}},expiredDateHuman(){return this.subscribe?d()(this.subscribe.expiredAt).format("MMM D, YYYY"):this.user.subscribedByExpireDate?d()(this.user.subscribedByExpireDate).format("MMM D, YYYY"):""},subscribedBy(){return this.user.subscribedBy},subscribedIsExpiredNow(){return null===this.user.subscribedIsExpiredNow||!!this.user.subscribedIsExpiredNow},subscribedByExpire(){return null===this.user.subscribedByExpire||!!this.user.subscribedByExpire},subscribePrice(){return this.user.subscribePrice},subscribedByAutoprolong(){return this.user.subscribedByAutoprolong},hasRenewalDate(){return!!this.subscribe&&!!this.subscribe.renewedAt},isExpired(){return!!this.user.subscribedIsExpiredNow||this.subscribe&&!this.subscribe.renewedAt&&!this.subscribe.status},agreePrice(){return this.subscribe?Math.max(this.subscribe.newPrice,this.subscribe.price):0},isAutoprolong(){return!!this.subscribe&&(this.isFromPaidToFree||this.hasAnyPaidSubscription?!!this.subscribe.renewedAt:!!this.subscribe.renewedAt||0===this.user.subscribePrice)},isNewPriceHigherAgreePrice(){return this.user.subscribePrice>this.agreePrice},waitForExpire(){return!this.isAutoprolong||this.isNewPriceHigherAgreePrice},isExpiredNow(){return this.subscribe&&+new Date(this.subscribe.expiredAt)<=this.currentDate||this.user.subscribedIsExpiredNow},isFromPaidToFree(){return this.subscribe?!!this.subscribe.price&&!this.subscribe.subscribePrice:this.user&&!!this.user.currentSubscribePrice&&!this.user.subscribePrice},hasAnyPaidSubscription(){return!!(this.subscribe&&this.subscribe.subscribes&&this.subscribe.subscribes.length&&this.subscribe.subscribes.some((e=>!!e.price)))},regular_user_not_subscribed_with_promotion(){return this.subscribedByExpire&&!this.subscribedBy&&this.subscribePrice>0&&this.promotion&&this.promotion.price>0},regular_user_not_subscribed(){return this.subscribedByExpire&&!this.subscribedBy&&this.subscribePrice>0},regular_user_subscribed_with_renewal(){if(this.hasNewSubscribeData){const{price:e,regularPrice:s,type:t}=this.currentSubscribeData;return e>0&&e===s&&"regular"===t&&!!this.subscribe.renewedAt}return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&!!this.subscribe.renewedAt},regular_user_unsubscribed_on_their_own(){return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&!this.subscribe.renewedAt},regular_user_unsubscribed_because_model_has_raised_subscription_price(){return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&this.subscribePrice>this.subscribe.newPrice},regular_user_subscribed_with_renewal_to_higher_price(){return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&this.subscribe.price<this.subscribe.newPrice&&this.subscribe.newPrice===this.subscribePrice&&!!this.subscribe.renewedAt},bundle_user_subscribed_with_renewal(){if(this.hasNewSubscribeData){const{type:e}=this.currentSubscribeData;return"bundle"===e&&this.hasRenewalDate}return!1},bundle_user_unsubscribed_on_their_own(){if(this.hasNewSubscribeData){const{type:e}=this.currentSubscribeData;return"bundle"===e&&!this.hasRenewalDate}return!1},bundle_user_unsubscribed_because_model_has_raised_subscription_price(){if(this.hasNewSubscribeData){const{type:e}=this.currentSubscribeData;return"bundle"===e&&this.subscribePrice>this.subscribe.newPrice}return!1},free_user_not_subscribed_to_free_profile(){return this.subscribedByExpire&&!this.subscribedBy&&0===this.subscribePrice},free_user_subscribed_to_free_profile(){if(this.hasNewSubscribeData){const{price:e,type:s}=this.currentSubscribeData;return 0===e&&0===this.subscribePrice&&("regular"===s||"auto"===s)}return!this.subscribedByExpire&&this.subscribedBy&&0===this.subscribePrice},free_user_not_subscribed_to_free_trial(){return!this.subscribedBy&&this.promotion&&0===this.promotion.price},free_user_subscribed_to_free_with_renewal(){if(this.hasNewSubscribeData){const{price:e,type:s,regularPrice:t}=this.currentSubscribeData;return 0===e&&0===t&&"regular"===s&&this.subscribePrice>0&&this.hasRenewalDate}return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&0===this.subscribe.price&&this.subscribePrice>0&&this.hasRenewalDate},free_user_subscribed_to_free_trial_without_renewal(){return this.hasNewSubscribeData?0===this.currentSubscribeData.price&&"promo"===this.currentSubscribeData.type&&!this.hasRenewalDate:!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&0===this.subscribe.price&&this.subscribePrice>0&&!this.hasRenewalDate},free_user_subscribed_to_free_trial_with_renewal(){return this.hasNewSubscribeData?0===this.currentSubscribeData.price&&"promo"===this.currentSubscribeData.type&&this.hasRenewalDate:!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&0===this.subscribe.price&&this.subscribePrice>0&&this.hasRenewalDate},free_user_subscribed_to_personal_trial_with_renewal(){if(this.hasNewSubscribeData){const{price:e,type:s}=this.currentSubscribeData;return 0===e&&"personal_trial"===s&&this.hasRenewalDate}return!1},free_user_subscribed_to_personal_trial_without_renewal(){if(this.hasNewSubscribeData){const{price:e,type:s}=this.currentSubscribeData;return 0===e&&"personal_trial"===s&&!this.hasRenewalDate&&1===this.subscribe.subscribes.length}return!1},promo_user_subscribed_with_renewal(){if(this.hasNewSubscribeData){const{price:e,regularPrice:s,type:t}=this.currentSubscribeData;return e>0&&e<s&&"promo"===t&&!!this.subscribe.renewedAt}return!1},promo_user_subscribed_without_renewal(){if(this.hasNewSubscribeData){const{price:e,regularPrice:s,type:t}=this.currentSubscribeData;return e>0&&e<s&&"promo"===t&&!this.subscribe.renewedAt}return!1},discount_user_subscribed_with_renewal(){if(this.hasNewSubscribeData){const{price:e,regularPrice:s,type:t}=this.currentSubscribeData;return e>0&&e<s&&"discount"===t&&!!this.subscribe.renewedAt}return!1},discount_user_subscribed_without_renewal(){if(this.hasNewSubscribeData){const{price:e,regularPrice:s,type:t}=this.currentSubscribeData;return e>0&&e<s&&"discount"===t&&!this.subscribe.renewedAt}return!1},paid_user_subscribed_to_free_model_with_renewal(){return this.isFromPaidToFree&&this.isAutoprolong},paid_user_subscribed_to_free_model_without_renewal(){return this.isFromPaidToFree&&!this.isAutoprolong},params(){switch(!0){case this.bundle_user_unsubscribed_because_model_has_raised_subscription_price:return{btnText:this.$t("message.message_type_renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal,debugFlag:"bundle_user_unsubscribed_because_model_has_raised_subscription_price"};case this.bundle_user_unsubscribed_on_their_own:return{btnText:this.isFromPaidToFree?this.$t("message.message_type_renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}):this.$t("message.message_type_renew"),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.getButtonHandler(this.openSubscribeModal),debugFlag:"bundle_user_unsubscribed_on_their_own"};case this.bundle_user_subscribed_with_renewal:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"bundle_user_subscribed_with_renewal"};case this.promo_user_subscribed_with_renewal:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"promo_user_subscribed_with_renewal"};case this.promo_user_subscribed_without_renewal:return{btnText:this.$t("message.renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.getButtonHandler(this.openSubscribeModal),debugFlag:"promo_user_subscribed_without_renewal"};case this.discount_user_subscribed_with_renewal:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"discount_user_subscribed_with_renewal"};case this.discount_user_subscribed_without_renewal:return{btnText:this.$t("message.renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.getButtonHandler(this.openSubscribeModal),debugFlag:"discount_user_subscribed_without_renewal"};case this.free_user_not_subscribed_to_free_trial:return{btnText:this.redesignText?`<span class="b-btn-text">\n                ${this.$t("message.subscribe_btn")}\n              </span>\n              <span class="b-btn-text__small">\n                <span class="g-text-uppercase">${this.$t("message.free")}</span>\n                <span class="g-btn__new-line-text">\n                  ${this.$t("message.user_card_price_for_count_days",{PRICE:"",COUNT:this.promotion.subscribeDays})}\n                </span>\n              </span>`:this.$t("message.subscription_promo_subscribe_free_full_button_ed2"),panelTitle:this.$t("message.trial_offer_popup_title_new"),panelText:"",btnClass:!1,handler:this.openSubscribeModal,debugFlag:"free_user_not_subscribed_to_free_trial"};case this.free_user_subscribed_to_free_with_renewal:return{btnText:this.$t("message.message_type_followed"),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.free_until_date",{EXPIRY_DATE:this.toHumanDate(this.currentSubscribeData.expireDate)}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"free_user_subscribed_to_free_with_renewal"};case this.free_user_subscribed_to_personal_trial_with_renewal:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.free_until_date",{EXPIRY_DATE:this.toHumanDate(this.currentSubscribeData.expireDate)||this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"free_user_subscribed_to_personal_trial_with_renewal"};case this.free_user_subscribed_to_personal_trial_without_renewal:return{btnText:this.$t("message.renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.free_until_date",{EXPIRY_DATE:this.toHumanDate(this.currentSubscribeData.expireDate)||this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal,debugFlag:"free_user_subscribed_to_personal_trial_without_renewal"};case this.free_user_subscribed_to_free_trial_without_renewal:return{btnText:this.$t("message.renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.free_until_date",{EXPIRY_DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal,debugFlag:"free_user_subscribed_to_free_trial_without_renewal"};case this.free_user_subscribed_to_free_trial_with_renewal:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription_title"),panelText:this.$t("message.free_until_date",{EXPIRY_DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"free_user_subscribed_to_free_trial_with_renewal"};case this.free_user_not_subscribed_to_free_profile:return{btnText:this.$t("message.subscription_subscribe_free_full_button"),panelTitle:this.$t("message.free_subscription"),panelText:"",btnClass:!1,handler:this.openSubscribeModal,debugFlag:"free_user_not_subscribed_to_free_profile"};case this.free_user_subscribed_to_free_profile:return{btnText:this.$t("message.subscribe_btn_subscribed_free_label_ed2"),panelTitle:this.$t("message.free_subscription"),panelText:"",btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"free_user_subscribed_to_free_profile"};case this.paid_user_subscribed_to_free_model_with_renewal:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"paid_user_subscribed_to_free_model_with_renewal"};case this.paid_user_subscribed_to_free_model_without_renewal:return{btnText:`${this.$t("message.message_type_renew")} ${this.$t("message.for_free_btn")}`,panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openUnsubscribeModal,debugFlag:"paid_user_subscribed_to_free_model_without_renewal"};case this.regular_user_unsubscribed_because_model_has_raised_subscription_price:return{btnText:this.$t("message.message_type_renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$t("message.subscription"),panelText:this.subscribe.price?this.$t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}):this.$t("message.message_type_free_per_month_until_date",{DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal,debugFlag:"regular_user_unsubscribed_because_model_has_raised_subscription_price"};case this.regular_user_subscribed_with_renewal_to_higher_price:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"regular_user_subscribed_with_renewal_to_higher_price"};case this.regular_user_not_subscribed_with_promotion:return{btnText:this.redesignText?`<span class="b-btn-text">\n                ${this.$t("message.subscribe_btn")}\n              </span>\n              <span class="b-btn-text__small">\n                ${this.$t("message.user_card_price_for_count_days",{PRICE:this.priceHuman(this.promotion.price),COUNT:this.promotion.subscribeDays||30})}\n              </span>`:this.$t("message.subscription_promo_subscribe_price_full_button_new_formatted_ed2",{PRICE:this.priceHuman(this.promotion.price)}),panelTitle:this.$t("message.subscription"),panelText:this.promotion.price?this.$t("message.message_type_price_per_month",{PRICE:this.priceHuman(this.promotion.price)}):this.$t("message.subscribes_filter_paid_0_title"),btnClass:!1,handler:this.openSubscribeModal,debugFlag:"regular_user_not_subscribed_with_promotion"};case this.regular_user_not_subscribed:return{btnText:this.$t("message.subscription_promo_subscribe_price_full_button_new_formatted_ed2",{PRICE:this.priceHuman(this.subscribePrice)}),panelTitle:this.$t("message.subscription"),panelText:this.subscribePrice?this.$t("message.message_type_price_per_month",{PRICE:this.priceHuman(this.subscribePrice)}):this.$t("message.subscribes_filter_paid_0_title"),btnClass:!1,handler:this.openSubscribeModal,debugFlag:"regular_user_not_subscribed"};case this.regular_user_subscribed_with_renewal:return{btnText:this.$t("message.message_type_subscribed"),panelTitle:this.$t("message.subscription"),panelText:this.subscribe.subscribePrice!==this.subscribe.regularPrice?`<span class="b-fans__item__regular-price">-${Math.round(100*(this.subscribe.regularPrice-this.subscribe.subscribePrice)/this.subscribe.regularPrice)}%</span> ${this.priceHuman(this.subscribe.subscribePrice)} till ${this.toHumanDate(this.subscribe.discountFinishedAt)}`:this.subscribe.price?this.$t("message.message_type_price_per_month",{PRICE:this.priceHuman(this.subscribe.price)}):this.$t("message.subscribes_filter_paid_0_title"),btnClass:!0,handler:this.openUnsubscribeModal,debugFlag:"regular_user_subscribed_with_renewal"};case this.regular_user_unsubscribed_on_their_own:return{btnText:this.$t("message.message_type_renew"),panelTitle:this.$t("message.subscription"),panelText:this.$t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.getButtonHandler(this.openSubscribeModal),debugFlag:"regular_user_unsubscribed_on_their_own"};default:return{btnText:"",panelTitle:"",panelText:"",btnClass:!1,handler:()=>{}}}}},methods:{...(0,b.ZDR)(["autoprolongToggle"]),...(0,b.oPE)(["removeSubscribe"]),toHumanDate(e){return e?d()(e).format("MMM D, YYYY"):""},getButtonHandler(e=()=>{}){return this.hasAnyPaidSubscription||this.isFromPaidToFree?this.openUnsubscribeModal:e}}}},441701:function(e,s,t){var i=t(218111),r=t.n(i),n=t(22489),o=t.n(n),a=t(885471),u=t(47452),c=t(248806);const h=(0,a.reactive)({postType:"",searchQuery:""});function l(){const{routeParams:e,routeQuery:s}=(0,u.A)(),t=(0,a.computed)((()=>c.EM.POSTS===h.postType)),i=(0,a.computed)((()=>c.mf.includes(h.postType))),r=(0,a.computed)((()=>c.EM.STREAMS===h.postType)),n=(0,a.computed)((()=>{const{order:e,filter:t,q:i}=s.value;return Boolean(e||t||i)}));(0,a.watchEffect)((()=>{const{postType:s}=e.value;s!==h.postType&&(h.postType=s||c.EM.POSTS)}));const o=()=>{h.postType="",h.searchQuery=""};return(0,a.onBeforeUnmount)((()=>{o()})),{isPosts:t,postsFilter:h,isMediaPosts:i,isStreamsPosts:r,isHasSearchQueryParams:n}}s.A=l},461584:function(e,s,t){var i=t(885471),r=t(203852),n=t(47452),o=t(324211),a=t(600958);function u(){const{route:e}=(0,n.A)(),{store:s}=(0,r.A)(),t=(0,i.computed)((()=>s.getters["auth/authUserId"]||{})),u=s.getters["users/getUser"],c=undefined;return{getLinkedPostLink:s=>{if(!s)return e.value;const i=(0,o.D)(s),r=i===t.value,{subscribedBy:n,username:c}=u(i);return n||r?{name:"Post",params:{postId:s.id,userId:c}}:{name:a.A.PROFILE,params:{userId:c}}}}}s.A=u},513001:function(e,s,t){var i=t(944114),r=t.n(i),n=t(725440),o=t.n(n),a=t(110908);s.A={computed:{...(0,a.Hdj)(["goBackState"])},methods:{goBack(e={},s){return window.history.state&&window.history.state.key===this.goBackState.initHistoryState?e.skipDefault||!e.name&&!e.path?this.$router.push("/"):this.$router.replace(e):s?this.$router.push(e):this.goBackState.routeFrom&&this.goBackState.routeFrom.matched.length?this.$router.back():e.skipDefault||!e.name&&!e.path?this.$router.push("/"):this.$router.push(e)}}}},531403:function(e,s){s.A=()=>{const e=undefined,s=undefined;return Date.now().toString(36)+Math.random().toString(36).substring(2)}},577641:function(e,s,t){var i=t(218111),r=t.n(i),n=t(161701),o=t.n(n),a=t(885471),u=t(203852),c=t(885572),h=t(758987),l=t(458723);const d=10,b=(0,a.ref)(!1),p=(0,a.ref)(!1);function _(e){const{store:s}=(0,u.A)(),{purchasedPinnedPostIds:t,setPurchasedPinnedPostIds:i,addPurchasedPinnedPostId:r,removePurchasedPinnedPostId:n}=(0,c.A)(),o=(0,a.computed)((()=>{var s;return null===(s=e.value)||void 0===s?void 0:s.id})),_=(0,a.computed)((()=>e.value.responseType)),m=(0,a.computed)((()=>{var s,t;return"message"===(null===(s=e.value)||void 0===s?void 0:s.responseType)?null===(t=e.value)||void 0===t?void 0:t.queueId:null})),f=e=>s.getters["posts/getPostById"](e),g=(0,a.computed)((()=>t.value.includes(o.value))),w=()=>{g.value?n(o.value):r(o.value)},P=async()=>{var e;if(b.value)return;let s;b.value=!0;try{s=await(0,l.j)({id:o.value,chat_group_id:m.value})}catch(t){(0,h.r_)(t,t.message)}finally{b.value=!1}null!==(e=s)&&void 0!==e&&e.success&&w()},y=async e=>{if(p.value)return;p.value=!0;const s=e.map((e=>{var s;return{entityId:e,type:null===(s=f(e))||void 0===s?void 0:s.responseType}}));try{await(0,l.Yu)({order:s}),i(e)}catch(t){(0,h.r_)(t,t.message)}finally{p.value=!1}};return{postChatGroupId:m,itemResponseType:_,isPinnedPurchasedPost:g,isProcessingPinPurchasedPost:b,isProcessingChangeOrderPinPosts:p,MAX_PINNED_ITEMS:d,getPostById:f,savePinnedPostsOrder:y,togglePinPurchasedPost:P,onSuccessTogglePinPurchasedPost:w}}s.A=_},586492:function(e,s,t){var i=t(944114),r=t.n(i),n=t(218111),o=t.n(n),a=t(22489),u=t.n(a),c=t(110908),h=t(202600),l=t(139162);s.A={computed:{...(0,c.npG)(["authUser"])},methods:{...(0,c.sxm)(["setSettings"]),...(0,c.drY)(["updateUserSettingsMessages"]),...(0,c.CXg)(["changeUser","patchUser","patchUserMeBySection","setAuthUserData"]),...(0,c.fH5)(["setGeoUploadPreset"]),async sendCurrentUserField(e,s,t,i=!0){let r;if(this[t]=!this[t],r=["isVisibleOnline","paidFeed","recommenderReward","sendAwardsTop1","sendAwardsTop5","walletFirstRebills","isWalletAutorecharge","walletAutorechargeAmount","walletAutorechargeMin","shouldReceiveLessNotifications","isOldLoginRedirect","notifyOnAllMentions","commentsOnlyForPayers","creatorsCommentsOnlyForFriends"].includes(s)?await this.patchUser({[s]:e}):["isSuggestionsOptOut","phoneOtp","isPrivate","showPostsTips","showFriendsToSubscribers","showSubscribesOffers","showSubscribersCount","isWantComments","isAutoFollowBack","unfollowAutoFollowBack","coStreamingRequestFrom","showMediaCount","isDrmEnabled"].includes(s)?await this.patchUserMeBySection({data:{[s]:e},section:"security"}):["allowReplyFrom"].includes(s)?await await(0,h.k_)({[s]:e}):await this.changeUser({[s]:e}),r&&(r.success||r[s]===e)){if(this[t]=!this[t],["isSuggestionsOptOut","phoneOtp","isPrivate","showPostsTips","showFriendsToSubscribers","showSubscribesOffers","isAutoFollowBack","unfollowAutoFollowBack","sendAwardsTop1","sendAwardsTop5","coStreamingRequestFrom","recommenderReward","isOldLoginRedirect","notifyOnAllMentions","commentsOnlyForPayers","isDrmEnabled","shouldReceiveLessNotifications","creatorsCommentsOnlyForFriends"].includes(s)?this.setSettings({[s]:e}):["allowReplyFrom"].includes(s)||this.setAuthUserData({[s]:e}),"showSubscribesOffers"===s){const s=this.authUser.advBlock.filter((e=>"subscribe_offers"!==e));e&&s.push("subscribe_offers"),this.setAuthUserData({advBlock:s})}if("isDrmEnabled"===s&&void 0!==r.init&&this.setAuthUserData(r.init),this.setDataFromStore&&this.setDataFromStore(this.authUser),this.setDataFromSettings&&this.allSettings&&this.setDataFromSettings(this.allSettings),i){const e=this.$route.path.includes("/my/settings")?l.it:l.C_;this.$bvToast.toast(this.$t("message.changes_saved_toast"),e)}}return r}}}},600097:function(e,s,t){t.d(s,{e:function(){return u}});var i=t(218111),r=t.n(i),n=t(720116),o=t.n(n),a=t(110908);const u={data(){return{validationPatterns:[{pattern:new RegExp(/^http(?:s)?:\/\/(?:www\.)?a(?:mazon)?\.[a-z]{2,3}(?:\.[a-z]{2})?\/([a-zA-Z0-9_]+)/),type:"Amazon"},{pattern:new RegExp(/^http(?:s)?:\/\/(?:www\.)?goodreads\.com\/([a-zA-Z0-9_]+)/),type:"Goodreads"},{pattern:new RegExp(/^http(?:s)?:\/\/(?:www\.)?imdb\.com\/([a-zA-Z0-9_]+)/),type:"IMDB"},{pattern:new RegExp(/^http(?:s?):\/\/((?:www|m)\.)?youtu(?:be\.com\/|\.be\/)([a-zA-Z0-9_]+)/),type:"YouTube"},{pattern:new RegExp(/^http(?:s)?:\/\/(?:www\.)?of(?:tv\.com\/|\.tv\/)([a-zA-Z0-9_]+)/),type:"OFTV"}]}},computed:{...(0,a._84)(["links"])},methods:{getImage(e){var s;return(null==e||null===(s=e.image)||void 0===s||null===(s=s.thumbs)||void 0===s?void 0:s.c144)||""},getLinkType(e){var s;return(null===(s=this.validationPatterns.find((({pattern:s})=>s.test(e))))||void 0===s?void 0:s.type)||""}}}},602757:function(e,s,t){var i=t(957903),r=t(826489),n=t.n(r),o=t(110908),a=t(324211),u=t(139162);s.A={computed:{...(0,o.npG)(["authUser"]),postMixin_canSharePost(){return navigator.share&&r.isMobile},postMixin_isTypePost(){var e;return"post"===(null===(e=this.post)||void 0===e?void 0:e.responseType)},postMixin_isTypeMessage(){var e;return"message"===(null===(e=this.post)||void 0===e?void 0:e.responseType)},postMixin_isPostDeleted(){var e;return!(null===(e=this.post)||void 0===e||!e.isDeleted)},postMixin_postLinkProps(){let e={};const{id:s,queueId:t,chatId:i,fromUser:r,messageId:n}=this.post||{};switch(!0){case Boolean(!this.post)||this.postMixin_isTypePost&&this.postMixin_isPostDeleted:break;case this.postMixin_isTypePost:e.to={name:"Post",params:{postId:s,userId:this.authorUserName}};break;case this.postMixin_isTypeMessage&&this.postMixin_isPostDeleted:e.to={name:"MessagePage",params:{postId:s,userId:this.authorUserName}};break;case s===t:e.to={name:"ChatsSend",query:{scheduleMessageId:t}};break;default:e.to={name:"Chat",params:{chatId:i||r},query:{firstId:n||s}}}return e},postMixin_canViewStat(){return this.postMixin_isTypePost&&this.authUser.isPerformer&&this.postMixin_isPostUser},postMixin_canEdit(){return!this.postMixin_isPostDeleted&&this.postMixin_isTypePost&&this.post.canEdit},postMixin_canShowWhoBought(){return this.postMixin_isTypePost&&this.post.hasPurchases&&this.postMixin_isPostUser},postMixin_isQueuePage(){return"MyQueue"===this.$route.name},postMixin_canSendPostToArchive(){return!this.postMixin_isPostDeleted&&this.postMixin_isTypePost&&this.postMixin_isPostUser&&this.authUser.isPerformer&&!this.postMixin_isQueuePage},postMixin_isPostUser(){return(0,a.G6)(this.post,this.authUser.id)}},methods:{postMixin_doCopyPostLink(){if(this.postMixin_postLinkProps.to){const{href:e}=this.$router.resolve(this.postMixin_postLinkProps.to),s=`${this.$window.location.origin}${e}`;this.postMixin_canSharePost?navigator.share({title:(0,i.iT)(this.authorUserName),url:s}).catch((()=>{})):this.$copyText(s).then((()=>{this.$bvToast.toast(this.$t(`message.copy_link_to_${this.postMixin_isTypePost?"post":"message"}_btn_copied`),u.fy)}))}}}}},620288:function(e,s,t){function i(e){if(!(e instanceof HTMLElement))return!1;const s=window.getComputedStyle(e),t=/(auto|scroll)/.test(s.overflowY)&&e.scrollHeight>e.clientHeight,i=/(auto|scroll)/.test(s.overflowX)&&e.scrollWidth>e.clientWidth;return t||i}function r(e){return e instanceof HTMLElement&&e===document.documentElement}function n(e){if(!(e instanceof HTMLElement))return document.documentElement;for(;e&&e!==document.documentElement;){if(i(e))return e;e=e.parentElement}return document.documentElement}function o(e,s){if(!(e instanceof HTMLElement))return;const t=n(s),{top:i,left:o}=e.getBoundingClientRect();if(r(t))return{top:i+window.scrollY,left:o+window.scrollX};const{scrollTop:a,scrollLeft:u}=t,{top:c,left:h}=t.getBoundingClientRect();return{top:i-c-window.scrollY+(a||0),left:o-h-window.scrollX+(u||0)}}t.d(s,{CR:function(){return n},PP:function(){return o},Y9:function(){return r}})},620514:function(e,s,t){t.d(s,{k:function(){return r}});var i=t(110908);const r={computed:{...(0,i.ZOz)(["userId"]),...(0,i.npG)(["authUserId"]),isAuthUser(){return!(!this.userId||!this.authUserId||this.userId!==this.authUserId)}}}},653078:function(e,s,t){t.d(s,{O:function(){return c}});var i=t(858156),r=t.n(i),n=t(944114),o=t.n(n),a=t(977434),u=t(716228);s.A={methods:{innerLinkToRouter:a.De,innerLinkToRouterForStat:a.QD}};const c={mixins:[u.A],methods:{innerLinkToCard(e,s,t){const i=(0,a.DL)(e);if(i){e.preventDefault(),this.$root.$emit("bv::hide::modal","ModalAlert");let{target:n}=e;n&&"A"!==n.tagName&&(n=n.closest("a"));const o=n.closest(".toast");o&&this.$root.$bvToast.hide(o.id);const{route:a}=this.$router.resolve(i),u=r()(s,t,null);"Profile"===a.name&&u?this.maybeOpenCard(u):this.$router.push(i)}}}}},667747:function(e,s,t){var i=t(110908),r=t(620514),n=t(420635);s.A={mixins:[r.k],computed:{...(0,i.why)(["scenario"]),...(0,i.npG)(["isAuth","authUser"]),isMyFraudsterProfile(){var e;return this.isAuthUser&&(null===(e=this.scenario)||void 0===e?void 0:e.action)===n.Z.FRAUD_REPAYMENT},isMyProfileNeedIV(){var e;return this.isAuthUser&&(null===(e=this.scenario)||void 0===e?void 0:e.action)===n.Z.LOGIN_REQUIRES_WAIT_IV},isMyProfileNeedFaceId(){var e;return this.isAuthUser&&(null===(e=this.scenario)||void 0===e?void 0:e.action)===n.Z.FACE_ID},isHasScenario(){return this.isAuth&&this.authUser.hasScenario},isMyProfileHasScenario(){return this.isMyFraudsterProfile||this.isMyProfileNeedIV||this.isMyProfileNeedFaceId}}}},686206:function(e,s,t){t.d(s,{Uh:function(){return l},k_:function(){return h}});var i=t(725440),r=t.n(i),n=t(974353),o=t.n(n),a=t(110908),u=t(734287),c=t(810714);const h=e=>{const s=u.w.local.get(c.W.RECOMMENDER,{});s&&s[e]&&(delete s[e],u.w.local.set(c.W.RECOMMENDER,s))},l=e=>{const s=u.w.local.get(c.W.RECOMMENDER,{});if(s&&s[e]){const t=undefined;if(!o()(s[e].expiredAt).isBefore())return s[e].recId;h(e)}};s.Ay={created(){this.$watch((e=>[e.$route,e.authUserId,e.userId]),(e=>{const s=e[0],t=()=>{s&&s.query&&void 0!==s.query.rec&&this.$router.replace({query:{...this.$route.query,rec:void 0}})},i=e[1],r=e[2];if(r&&"Profile"===s.name&&s.query&&void 0!==s.query.rec){let{query:{rec:e}}=s;if(e=parseInt(e,10)||null,!e)return void t();if(i&&(i===e||i===r))return void t();if(r===e)return void t();const n=u.w.local.get(c.W.RECOMMENDER,{});n[r]||(n[r]={},n[r].userId=r),n[r].recId=e,n[r].expiredAt=o()().add(1,"months").format(),u.w.local.set(c.W.RECOMMENDER,n),t()}}),{immediate:!0})},computed:{...(0,a.npG)(["authUserId"]),...(0,a.ZOz)(["userId"])}}},706399:function(e,s,t){var i=t(725440),r=t.n(i),n=t(110908),o=t(586492),a=t(758987),u=t(135429);s.A={mixins:[o.A],data(){return{toggleLockedPostsMixin_paidFeedDisabled:!1}},computed:{...(0,n.npG)(["authUser"]),...(0,n._yK)(["getCurrentFilterIsBlurred"]),toggleLockedPostsMixin_isLockedFeedPage(){return"Blurred"===this.$route.name||"Feed"===this.$route.name&&this.getCurrentFilterIsBlurred}},methods:{...(0,n.yKE)(["resetFeedItemIds"]),...(0,n.$GZ)(["fetchPosts"]),...(0,n.TQE)(["updateFeedFiltersAndRefetch"]),async toggleLockedPostsMixin_toggleLockedPosts(){this.toggleLockedPostsMixin_paidFeedDisabled||this.$nextTick((async()=>{try{const e=await this.sendCurrentUserField(!this.authUser.paidFeed,"paidFeed","toggleLockedPostsMixin_paidFeedDisabled",!1);if(null!=e&&e.success)if(this.resetFeedItemIds(),this.toggleLockedPostsMixin_isLockedFeedPage)this.updateFeedFiltersAndRefetch({filters:[],isFeedRelatedPage:["Feed","Purchased","TagsRequired","Search"].includes(this.$route.name),isChatsRelatedPage:["Chat","Chats","Gallery","PinnedMessages"].includes(this.$route.name)});else{const e=this.$route.query.q?this.$route.query.q.replace(u.YE,""):"";this.fetchPosts({query:e,isTagsRequiredPage:"TagsRequired"===this.$route.name,isFeedPage:"Feed"===this.$route.name})}}catch(e){this.toggleLockedPostsMixin_paidFeedDisabled=!1,(0,a.r_)(e)}}))}}}},708075:function(e,s,t){var i=t(725440),r=t.n(i),n=t(842762),o=t.n(n),a=t(885471),u=t(203852),c=t(47452),h=t(734155),l=t(444962),d=t(441701),b=t(600958),p=t(248806);function _(){const{t:e}=(0,l.A)(),{store:s}=(0,u.A)(),{postsFilter:t}=(0,d.A)(),{user:i,userId:r}=(0,h.A)(),{routeParams:n,replace:o}=(0,c.A)(),_=(0,a.computed)((()=>s.getters["auth/authUserId"]||{})),m=(0,a.computed)((()=>r.value===_.value)),f=(0,a.computed)((()=>e("message.search_users_post"))),g=(0,a.computed)((()=>e("message.try_searching_users_post"))),w=(0,a.computed)((()=>{const{isPrivateRestriction:e,subscribedBy:s}=i.value;return e&&!m.value&&!s})),P=undefined;return{authUserId:_,isAuthUser:m,isRestrictedPosts:w,searchPlaceholder:f,searchNoResultMessage:g,submitSearch:(e,s=!1)=>{const i=e.trim();""!==i&&o({name:b.A.PROFILE_SEARCH,params:{userId:n.value.userId||r.value,postType:s?p.EM.POSTS:t.postType||p.EM.POSTS},query:{q:i}})}}}s.A=_},714174:function(e,s,t){var i=t(885471),r=t(203852),n=t(919754);function o(){const{store:e}=(0,r.A)(),s=(0,i.computed)((()=>{var s;return(null===(s=e.state.users)||void 0===s?void 0:s.items)||{}})),t=undefined;return{users:s,checkIsBlockedUser:e=>{var t;return(null===(t=s.value)||void 0===t||null===(t=t[e])||void 0===t?void 0:t[n.g.IS_BLOCKED])||!1}}}s.A=o},734155:function(e,s,t){var i=t(885471),r=t(203852);function n(){const{store:e}=(0,r.A)(),s=undefined,t=undefined,n=undefined,o=undefined,a=undefined;return{user:(0,i.computed)((()=>e.getters["users/user"]||{})),userId:(0,i.computed)((()=>e.getters["users/userId"])),isCurrentUserLoaded:(0,i.computed)((()=>e.getters["users/hasUser"])),setCurrentUser:s=>e.commit("users/setCurrentUser",s),fetchCurrentUser:s=>e.dispatch("users/fetchCurrentUser",s)}}s.A=n},743751:function(e,s,t){var i=t(218111),r=t.n(i),n=t(22489),o=t.n(n),a=t(457002);s.A={computed:{footerLinks(){return a.C.filter((e=>e[this.isSidebarFooter?"inSidebarFooter":"inFooter"]))}}}},747127:function(e,s,t){var i=t(110908),r=t(977434);s.A={data(){return{ivBtnTimeout:null,pageUrl:"/my/verification"}},computed:{...(0,i.npG)(["authUser"]),isIVPending(){return"pending"===this.authUser.ivStatus},isIVApproved(){return"approved"===this.authUser.ivStatus},isIVBtnShown(){return!this.isIVApproved}},methods:{...(0,i.CXg)(["setAuthUserData"]),setIVStatusPending(){this.$root.$emit("msg",{ivStatus:"pending"}),this.setAuthUserData({ivStatus:"pending"})},async getIdentityVerifyUrl(e={skipConfirm:!1,additional:{}}){if(!e.type||this.isIVPending||!e.skipConfirm&&!await window.interact(this.$t("message.authentication_service_redirect")))return!1;this.setIVStatusPending(),this.$root.$emit("msg",{ivFailReason:""}),this.setAuthUserData({ivFailReason:""});const s=this;function t(){s.isIVApproved||(s.$root.$emit("msg",{ivStatus:null}),s.setAuthUserData({ivStatus:null}))}try{const s=`${this.pageUrl}${(0,r.Zq)({source:e.type,...e.additional})}`;window.open(s)||(this.$window.location.href=s),this.ivBtnTimeout=setTimeout((()=>{t()}),6e4)}catch(i){t()}return!0}},destroyed(){this.ivBtnTimeout&&clearTimeout(this.ivBtnTimeout)}}},772063:function(e,s,t){var i=t(944114),r=t.n(i),n=t(713609),o=t.n(n),a=t(218111),u=t.n(a),c=t(22489),h=t.n(c),l=t(161701),d=t.n(l),b=t(517642),p=t.n(b),_=t(658004),m=t.n(_),f=t(733853),g=t.n(f),w=t(845876),P=t.n(w),y=t(432475),v=t.n(y),S=t(515024),T=t.n(S),E=t(731698),D=t.n(E),A=t(725440),$=t.n(A),x=t(962953),M=t.n(x),I=t(110908),C=t(734287),U=t(135429),R=t(810714);s.A={data(){return{recentPostsSearches:[],recentUsersSearches:[],recentPostsSearchesSize:4,recentUsersSearchesSize:10}},computed:{...(0,I.npG)(["authUser","authUserId"]),hasSearchHistory(){return this.recentPostsSearches.length||this.recentUsersSearches.length&&this.canSearchUsers},canSearchUsers(){return this.authUser.isMakePayment||this.authUser.isPerformer},isDesktop(){return"lg"===this.$mq},isSmsResolution(){return"sms"===this.$mq},query(){return this.$route.query.q?this.$route.query.q.replace(U.YE,""):""}},methods:{goTo(e,s){this.storeUsersSearchHistory(e.id),this.$router.push(s)},removeSearchItemFromHistory(e,s){this[s].splice(this[s].indexOf(e),1),C.w.local.set(s,this[s].join(",")),this.$emit("removeSearchItemFromHistory")},clearSearchHistory(){this.recentPostsSearches=[],this.recentUsersSearches=[],C.w.local.remove(R.W.RECENT_POSTS_SEARCHES),C.w.local.remove(R.W.RECENT_USERS_SEARCHES),this.$emit("clearSearchHistory")},storePostsSearchHistory(){const e=this.recentPostsSearches.join(",").toLowerCase().split(",");this.searchField&&-1===e.indexOf(this.searchField.toLowerCase())&&(this.recentPostsSearches.unshift(this.searchField),this.recentPostsSearches=this.recentPostsSearches.splice(0,this.recentPostsSearchesSize),C.w.local.set(R.W.RECENT_POSTS_SEARCHES,this.recentPostsSearches.join(",")))},getPostsSearchHistory(){const e=C.w.local.get(R.W.RECENT_POSTS_SEARCHES,"").toString();this.recentPostsSearches=e&&e.length?e.split(","):[],this.recentPostsSearches=this.recentPostsSearches.splice(0,this.recentPostsSearchesSize)},storeUsersSearchHistory(e){const s=undefined,t=C.w.local.get(R.W.RECENT_USERS_SEARCHES,"").toString().split(",").filter((e=>+e&&!Number.isNaN(+e))).map((e=>+e)),i=[...new Set([e,...t])];C.w.local.set(R.W.RECENT_USERS_SEARCHES,i.splice(0,this.recentUsersSearchesSize).join(","))},getUsersSearchHistory(){const e=C.w.local.get(R.W.RECENT_USERS_SEARCHES,"").toString().split(",");this.recentUsersSearches=e.filter((e=>+e&&!Number.isNaN(+e))).splice(0,this.recentUsersSearchesSize).map((e=>+e))}}}},781894:function(e,s,t){var i=t(858156),r=t.n(i),n=t(974353),o=t.n(n),a=t(686206),u=t(305693),c=t(910881),h=t(110908),l=t(139162);s.A={data(){return{bundleData:void 0}},mixins:[u.A,c.A],computed:{...(0,h._84)(["preLoginSubscriptionData"]),...(0,h.npG)(["isAuth"]),...(0,h.klx)(["getSubscribe"]),subscribe(){return this.getSubscribe(this.user.id)},expiredDateHuman(){return this.subscribe?o()(this.subscribe.expiredAt).format("MMM D, YYYY"):""}},methods:{...(0,h.tSh)(["setModalUser","setPreLoginSubscriptionData"]),...(0,h.ZDR)(["updateSubscribe"]),...(0,h.CXg)(["fetchSubscriptionsCount"]),bundleClickHandler(e){this.isAuth||this.setPreLoginSubscriptionData({name:"bundle",data:e}),this.user.subscribedBy?this.showBuyBundleFirstConfirm():(this.setModalUser({userId:this.user.id}),this.$nextTick((()=>{const s=({componentId:t})=>{"ModalSubscribe"===t&&(this.$root.$emit("ModalSubscribeBundleShow",e),this.$root.$off("bv::modal::show",s))};this.$root.$on("bv::modal::show",s),this.$root.$emit("bv::show::modal","ModalSubscribe")})))},async showBuyBundleFirstConfirm(){const e=undefined;await window.interact(this.$t("message.buy_bundle_confirm_desc",{DATE:this.expiredDateHuman}),{confirmText:this.$t("message.confirm_yes_button"),title:this.$t("message.buy_bundle_confirm_title")})&&this.showBuyBundleSecondConfirm()},async showBuyBundleSecondConfirm(){const e=undefined;await window.interact(this.$t("message.are_you_sure"),{confirmText:this.$t("message.confirm_yes_button"),title:this.$t("message.buy_bundle_confirm_title")})&&this.buyBundle()},async buyBundle(){var e,s,t,i;if(this.$root.$emit("bv::hide::modal","ModalSubscribe"),this.bundleData=this.bundle||(null===(e=this.preLoginSubscriptionData)||void 0===e?void 0:e.data)||this.bundleData,null===(s=this.bundleData)||void 0===s||!s.id)return;const{id:n}=this.user,u=(0,a.Uh)(n),c=await this.makePayments({paymentType:"subscribe",userId:n,bundleId:null===(t=this.bundleData)||void 0===t?void 0:t.id,recommender:u,amount:null===(i=this.bundleData)||void 0===i?void 0:i.price,modalTitle:this.$t("message.confirm_subscription_payment_title")},this.buyBundle);null!=c&&c.id&&(this.$root.$emit("subscribe::user::beforeFinish"),this.setPreLoginSubscriptionData(null),n&&(0,a.k_)(n),this.updateSubscribe(c),this.fetchSubscriptionsCount(),["Profile","ProfileInner"].includes(this.$route.name)&&await this.fetchProfileData(n),r()(c,"subscribedByData.renewedAt")&&this.$bvToast.toast(this.$t("message.bundle_paid_thankful_toast",{DATE:o()(c.subscribedByData.renewedAt).format("MMM D, YYYY")}),l.fy),this.$root.$emit("bundle:was:bought"))}}}},834109:function(e,s,t){var i=t(110908);const r=3e5;s.A={data(){return{postStatTimer:0,postStatDuration:0,visibility:!1,scrollTime:Date.now(),hadLongPause:!1,startPlayVideoTime:0,isPlaying:!1}},computed:{...(0,i.npG)(["authUserId"]),postMedia(){return this.post.media},isMy(){return this.post.author===this.authUserId},canView(){return this.post.canViewMedia}},methods:{...(0,i.d9S)(["collect"]),startTracking(){this.hadLongPause=!1,this.postStatTimer=Date.now()},stopTimer(){this.postStatDuration=Math.floor(Date.now()-this.postStatTimer)},sendEvent(){!this.isMy&&this.canView&&((this.hasPhoto||this.hasGif)&&this.sendPhotoDuration(),this.hasVideo&&this.sendVideoLook(),this.hasVideo&&this.isPlaying&&this.sendVideoDuration())},sendPhotoDuration(){let e=this.hadLongPause?r:this.postStatDuration;e=Math.round(e/1e3),e=e<1?1:e,this.sendStat("look",e)},sendVideoLook(){this.sendStat("videoLook")},sendVideoDuration(){let e=Date.now()-this.startPlayVideoTime;e=Math.round(e/1e3),e=e<1?1:e,this.sendStat("videoPlay",e)},sendStat(e,s){try{this.collect({action:e,postId:this.post.id,eventTime:(new Date).toISOString(),duration:s})}catch(t){}},stopTracking(){this.visibility&&(this.stopTimer(),this.sendEvent())},visibilityChanged(e){e?(this.startTracking(),this.isPlaying&&(this.startPlayVideoTime=Date.now())):!e&&this.visibility&&this.stopTracking(),this.visibility=e},checkScroll(){this.hadLongPause=this.hadLongPause||Date.now()-this.scrollTime>r,this.scrollTime=Date.now()},removeListeners(){window.removeEventListener("beforeunload",this.stopTracking)}},mounted(){this.hasVideo&&this.canView&&this.$root.$on("video:player:init",(({postId:e})=>{if(e===this.post.id){const e=this.$el&&this.$el.querySelector?this.$el.querySelector("video"):void 0;if(!e)return;e.addEventListener("playing",(()=>{this.isPlaying=!0,this.startPlayVideoTime=Date.now()})),e.addEventListener("pause",(()=>{this.isPlaying&&this.visibility&&this.sendVideoDuration(),this.isPlaying=!1}))}})),this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners)},created(){window.addEventListener("beforeunload",this.stopTracking),window.addEventListener("scroll",this.checkScroll)},beforeDestroy(){this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners),window.removeEventListener("beforeunload",this.stopTracking),window.removeEventListener("scroll",this.checkScroll),this.stopTracking()}}},885572:function(e,s,t){var i=t(198023),r=t.n(i),n=t(218111),o=t.n(n),a=t(22489),u=t.n(a),c=t(161701),h=t.n(c),l=t(962953),d=t.n(l),b=t(885471),p=t(22504),_=t(632134),m=t(203852),f=t(977434),g=t(458723);const w=(0,b.ref)([]),P=(0,b.ref)(!1),y=(e=[])=>{Array.isArray(e)&&(w.value=e)},v=()=>{y([])},S=e=>{r()(e)&&!w.value.includes(e)&&y([e,...w.value])},T=e=>{if(!r()(e))return;const s=w.value.filter((s=>e!==s));y(s)};function E(){const{store:e}=(0,m.A)(),s=s=>e.getters["posts/getPostById"](s),t=(0,b.computed)((()=>w.value.map((e=>s(e))).filter((e=>Boolean(null==e?void 0:e.id)))));(0,b.watch)(t,(()=>{const e=t.value.map((({id:e})=>e));e.length!==w.value.length&&y(e)}));const i=(0,b.computed)((()=>e.getters["usersLists/getCurrentFilterIsPurchased"])),r=async()=>{if(P.value)return;P.value=!0;const{cancelToken:s}=(0,f.ws)("fetchPurchasedPinnedPosts");try{const t=await(0,g.f9)({cancelToken:s}),i=(0,p.S8)(t.list,_.uY);await e.dispatch("users/getUsersIfNeeded",i),e.commit("set",i);const r=t.list.map((({id:e})=>e));y(r)}finally{P.value=!1}};return{purchasedPinnedPosts:t,isActivePurchasedFilter:i,isLoadingPurchasedPinnedPosts:P,purchasedPinnedPostIds:(0,b.readonly)(w),addPurchasedPinnedPostId:S,setPurchasedPinnedPostIds:y,fetchPurchasedPinnedPosts:r,removePurchasedPinnedPostId:T,clearPurchasedPinnedPostIds:v}}s.A=E},887477:function(e,s,t){var i=t(885471);s.A=({el:e,text:s})=>{const t=(0,i.ref)(null),r=(0,i.ref)(""),n=()=>{requestAnimationFrame((()=>{if(null==e||!e.value)return;const t=e.value.scrollWidth>e.value.offsetWidth;r.value=t?s.value:""}))},o=()=>{null!=e&&e.value&&(t.value=new ResizeObserver(n),t.value.observe(e.value))};return(0,i.onMounted)(o),(0,i.watch)(s,(()=>{n()})),(0,i.onBeforeUnmount)((()=>{var e;null===(e=t.value)||void 0===e||e.disconnect()})),r}},918765:function(e,s,t){var i=t(885471),r=t(248806);const n=(0,i.ref)(r.E_.ALL);function o(){const e=(0,i.computed)((()=>n.value===r.E_.ALL?"":n.value)),s=e=>{n.value=e||r.E_.ALL},t=()=>{s(r.E_.ALL)};return{labelId:(0,i.readonly)(n),preparedLabelId:e,setLabelId:s,resetLabelId:t}}s.A=o},932983:function(e,s,t){t.d(s,{PA:function(){return p},PD:function(){return h},cs:function(){return b},dy:function(){return _},eG:function(){return d},u3:function(){return l}});var i=t(185015),r=t.n(i),n=t(16280),o=t.n(n),a=t(620288),u=t(445948),c=t(480343);const h=48;function l({top:e,offset:s,desktopOffset:t,behavior:i,container:r}={}){const n=isNaN(e)?0:Number(e),o=isNaN(s)?0:Number(s),l=isNaN(t)?h:Number(t),d=Object.values(u.r0).includes(i)?i:u.r0.SMOOTH,b=(0,a.CR)(r),p=(0,a.Y9)(b)?document:b;let _=Math.max(n-o,0);return window.innerWidth>=c.i.SM&&(_=Math.max(_-l,0)),new Promise((e=>{const s=()=>{p.removeEventListener("scrollend",s),e()},t=b.scrollTop;try{b.scrollTo({top:_,behavior:d})}catch(i){if(!(i instanceof TypeError))throw s(),i;b.scrollTo(0,n)}p.addEventListener("scrollend",s),setTimeout((()=>{t===b.scrollTop&&s()}),100)}))}async function d({behavior:e,container:s}={}){const t=(0,a.CR)(s);t.scrollTop<=0||await l({behavior:e,top:0,desktopOffset:0,container:t})}async function b({behavior:e,container:s}={}){const t=(0,a.CR)(s),{scrollHeight:i,scrollTop:r}=t;r>=i||await l({behavior:e,desktopOffset:0,top:i,container:t})}async function p(e,{behavior:s,offset:t,desktopOffset:i}={}){const n=r()(e)?document.querySelector(e):e;if(!(n instanceof HTMLElement))return;const o=(0,a.CR)(n);let{top:u}=(0,a.PP)(n,o);await l({top:u,offset:t,behavior:s,desktopOffset:i,container:o})}async function _(e,{behavior:s,block:t,inline:i}={}){const n=r()(e)?document.querySelector(e):e;if(!(n instanceof HTMLElement))return;const o=(0,a.CR)(n),c=(0,a.Y9)(o)?document:o,h=Object.values(u.r0).includes(s)?s:u.r0.SMOOTH,l=Object.values(u.m9).includes(t)?t:u.m9.START,d=Object.values(u.Cc).includes(i)?i:u.Cc.NEAREST;return new Promise((e=>{const s=()=>{c.removeEventListener("scrollend",s),e()},t=o.scrollTop;try{n.scrollIntoView({block:l,behavior:h,inline:d})}catch(i){throw s(),i}c.addEventListener("scrollend",s),setTimeout((()=>{t===o.scrollTop&&s()}),100)}))}}}]);