"use strict";(self.webpackChunkof_vue=self.webpackChunkof_vue||[]).push([[13973,94026],{345231:function(e,t,s){s.d(t,{A:function(){return c}});var i=function e(){var t=this,s=t._self._c;return s("suggestion-wrapper",{staticClass:"m-selected-bg"},t._l(t.guestFanSuggestionIds,(function(e){return s("friend",{key:e,staticClass:"m-friend-recommended",attrs:{"user-id":e}})})),1)},a=[],r=s(95392),o=s(410538),n,l={name:"GuestFanSuggestions",components:{SuggestionWrapper:r.A,Friend:o.A},data(){return{guestFanSuggestionIds:[15585607,82517634]}}},u,d,c=(0,s(281656).A)(l,i,a,!1,null,null,null).exports},358887:function(e,t,s){var i=s(218111),a=s.n(i),r=s(22489),o=s.n(r),n=s(517642),l=s.n(n),u=s(658004),d=s.n(u),c=s(733853),p=s.n(c),m=s(845876),h=s.n(m),f=s(432475),g=s.n(f),b=s(515024),_=s.n(b),v=s(731698),w=s.n(v),S=s(842762),y=s.n(S),A=s(962953),P=s.n(A),C=s(885471),L=s(203852),B=s(47452),k=s(734155),I=s(714174),x=s(977434);const $=3;function T(){const{checkIsBlockedUser:e}=(0,I.A)(),{store:t}=(0,L.A)(),{userId:s}=(0,k.A)(),{routeQuery:i}=(0,B.A)(),a=(0,C.ref)(0),r=(0,C.computed)((()=>t.state.users.friendsLoading)),o=(0,C.computed)((()=>{var e;return(null===(e=t.state.users.friends)||void 0===e?void 0:e[s.value])||[]})),n=(0,C.computed)((()=>o.value.filter((t=>!e(t))))),l=(0,C.computed)((()=>{var e;return(null===(e=t.state.users.pinnedFriends)||void 0===e?void 0:e[s.value])||[]})),u=(0,C.computed)((()=>l.value.filter((t=>!e(t))))),d=(0,C.computed)((()=>{var e;return(null===(e=i.value)||void 0===e||null===(e=e.query)||void 0===e?void 0:e.trim())||""})),c=(0,C.computed)((()=>{var e;return(null===(e=d.value)||void 0===e?void 0:e.length)>=3})),p=(0,C.computed)((()=>c.value?n.value:[...new Set([...u.value,...n.value])])),m=e=>t.dispatch("users/fetchFriendsList",e),h=()=>t.dispatch("users/fetchPinnedFriends",{userId:s.value}),f=e=>t.commit("users/setHasMoreFriends",e),g=()=>t.commit("users/setFriendsList",{userId:s.value,friends:[]}),b=()=>{a.value=0,g(),f(!1)},_=(0,C.computed)((()=>t.state.users.hasMoreFriends)),v=async()=>{const e=await m({more:_.value,userId:s.value,offset:a.value,query:c.value?d.value:""});return a.value+=x.Jg,e};return(0,C.watch)(n,((e,t)=>{e.length<t.length&&(a.value=e.length)})),{hasMoreFriends:_,userFriendsIds:p,isLoadingFriends:r,pinnedFriendsIds:l,reset:b,fetchFriends:v,fetchPinnedFriends:h}}t.A=T},392499:function(e,t,s){var i=s(858156),a=s.n(i),r=s(218111),o=s.n(r),n=s(22489),l=s.n(n),u=s(962953),d=s.n(u),c=s(885471),p=s(974353),m=s.n(p),h=s(203852),f=s(47452),g=s(734155),b=s(441701),_=s(918765),v=s(743773),w=s(248806),S=s(415748);function y(){const{store:e}=(0,h.A)(),{user:t}=(0,g.A)(),{preparedLabelId:s}=(0,_.A)(),{routeQuery:i}=(0,f.A)(),{isPosts:r,postsFilter:o}=(0,b.A)(),n=(0,c.ref)(!1),l=(0,c.ref)(!1),u=(0,c.computed)((()=>e.getters["auth/authUserId"]||{})),d=(0,c.computed)((()=>e.getters["posts/posts"])),p=(0,c.computed)((()=>e.getters["posts/hasMore"])),y=(0,c.computed)((()=>e.state.posts.isPostsLoading)),A=(0,c.computed)((()=>e.getters["posts/isGridLayout"])),P=(0,c.computed)((()=>e.getters["posts/isMediaGridLayout"])),C=(0,c.computed)((()=>r.value?A.value:P.value)),L=(0,c.computed)((()=>e.getters["posts/postsPinned"])),B=(0,c.computed)((()=>e.getters["posts/filterReportedPosts"])),k=(0,c.computed)((()=>e.state.posts.hasPrevUserPostsToLoad)),I=(0,c.computed)((()=>{const{order:e,filter:t}=i.value;return!(t||s.value||e&&e!==`${w.x2.PUBLISH_DATE}_${v.F.ASC}`)})),x=t=>e.commit("posts/setPrevUserPostsToLoad",t),$=()=>e.commit("posts/setPinnedIds"),T=t=>e.dispatch("posts/fetchPostsPinned",t),F=t=>e.dispatch("posts/fetchUserPosts",t),U=async e=>{const a=Boolean(null==e?void 0:e.selectedPostDate),{order:r,filter:n,q:l}=i.value,u={query:l,order:r,filter:n,counters:0,id:t.value.id,type:o.postType,label:s.value,...e};return $(),a?(u.beforePublishTime=e.selectedPostDate,u.needFullResponse=!0):x(a),await F(u)},O=(0,c.computed)((()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.hasPinnedPosts})),R=(0,c.computed)((()=>p.value(o.postType))),D=(0,c.computed)((()=>r.value?[...L.value,...B.value]:B.value)),H=(0,c.computed)((()=>l.value||y.value)),E=(0,c.computed)((()=>!(l.value||R.value||y.value||D.value.length))),N=(0,c.computed)({get(){return k.value},set(e){x(e)}}),M=async()=>{l.value=!0,await T({isPinnedPostRemove:I.value}),l.value=!1},W=async e=>{const t={selectedPostDate:e};!i.value.q&&O.value&&r.value&&!s.value&&(M(),t.pinned=0),await U(t)},G=async({direction:e=S.z.BOTTOM,selectedDateOfPost:r=!1}={})=>{const n=t.value.id||u.value,{q:l,order:c,filter:p}=i.value;let h={},f,g,b,_;d.value.length&&(e===S.z.TOP?[h]=d.value:h=d.value[d.value.length-1]),Object.keys(h).length?(b=a()(h,"postedAt"),_=a()(h,"postedAtPrecise")):r&&(_=m()(r).startOf("d").format("X.SSSSSS")),_?e===S.z.BOTTOM?f=_:g=_:b&&(e===S.z.BOTTOM?f=m()(b).format("X.SSSSSS"):g=m()(b).format("X.SSSSSS"));const v={id:n,query:l,order:c,filter:p,direction:e,afterPublishTime:g,beforePublishTime:f,needFullResponse:!0,type:o.postType,label:s.value,addNew:e===S.z.TOP,more:!(e===S.z.TOP||!R.value)};return I.value&&!r&&(v.pinned=0),await F(v)},z=async e=>{n.value=!0;const t=await G({direction:S.z.TOP,selectedDateOfPost:e});t&&(N.value=Boolean(t.hasMore)),n.value=!1},q=async e=>{if(e){const t=await U({selectedPostDate:e});null!=t&&t.list.length?N.value=!0:await z()}else await W(e),N.value=!1};return{isHasMore:R,isLoading:H,showingPosts:D,isGridLayout:C,isEmptyCondition:E,hasPrevPostsToLoad:N,isDisabledLoadPrevPosts:n,setPinnedIds:$,loadPrevPosts:z,loadMorePosts:G,fetchPostsPinned:T,fetchProfilePosts:W,fetchUserPostsByType:U,setPrevUserPostsToLoad:x,onChangeSelectedPostDate:q}}t.A=y},578853:function(e,t,s){s.d(t,{A:function(){return C}});var i=function e(){var t=this,s=t._self._c;return s("div",{staticClass:"list-offers"},[t.hasPromotion?s("promotion",{attrs:{id:t.id}}):s("subscribe-block",{staticClass:"m-reset-mb",attrs:{id:t.id}}),t.bundles.length&&t.showBundles?s("div",{staticClass:"b-bundles-group b-profile__content__item m-toggle-block g-border-top",class:{"m-active":t.isShowBundles}},[s("button",{staticClass:"b-section-title m-row m-collapsible g-text-uppercase g-gray-text m-with-rectangle-hover m-tb-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleBundles.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("message.bundles_block_title"))+" "),s("span",{staticClass:"b-section-title__arrow"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-arrow-down",arg:"icon-arrow-down"}],staticClass:"m-button-arrow"})])]),t.isShowBundles?s("div",{staticClass:"b-tab-container"},t._l(t.bundles,(function(e){return s("div",{key:e.id,staticClass:"b-offer-wrapper m-promotion"},[s("bundle",{attrs:{bundle:e,user:t.user,large:""}})],1)})),0):t._e()]):t._e()],1)},a=[],r=s(858156),o=s.n(r),n=s(110908),l=s(847422),u=s(688905),d=function e(){var t=this,s=t._self._c;return s("div",{staticClass:"b-offer-wrapper",class:{"m-start-campaign":!t.isAuth}},[s("div",{staticClass:"b-section-title m-row g-text-uppercase g-gray-text"},[t._v(" "+t._s(t.$t("message.subscription_title"))+" ")]),s("div",{staticClass:"b-offer-join"},[s("subscribe-btn",{attrs:{id:t.id,"sm-size":t.isSmSizeBtn}}),s("subscription-info",{attrs:{id:t.id}})],1)])},c=[],p=s(148824),m=s(426180),h=s(438896),f,g={name:"SubscribeBlock",components:{SubscribeBtn:p.A,SubscriptionInfo:m.A},mixins:[h.A],computed:{...(0,n.npG)(["isAuth"]),...(0,n.ZOz)(["user"]),hasPromotion(){return o()(this,"user.promotions",[]).length},isSmSizeBtn(){return"UserList"===this.$parent.$parent.$options.name}}},b=s(281656),_,v=(0,b.A)(g,d,c,!1,null,null,null).exports,w=s(734287),S=s(810714),y,A={name:"ProfileOffers",components:{Promotion:l.A,Bundle:u.A,SubscribeBlock:v},props:{id:{type:Number,required:!0},showBundles:{type:Boolean,default:!0}},data(){const e=undefined,t=undefined;return{isShowBundles:!1!==w.w.local.get(S.W.SHOW_USER_BUNDLES_BLOCK,{})[this.id]}},computed:{...(0,n.UQc)(["getBundles"]),...(0,n.ZOz)(["userId","user"]),bundles(){return this.user.subscriptionBundles?this.getBundles(this.user.subscriptionBundles):[]},hasPromotion(){return o()(this,"user.promotions",[]).length}},mounted(){this.$root.$on("bundle:was:bought",this.hideBundles)},beforeDestroy(){this.$root.$off("bundle:was:bought",this.hideBundles)},methods:{setShowBundles(e){this.isShowBundles=e;const t=w.w.local.get(S.W.SHOW_USER_BUNDLES_BLOCK,{});t[this.id]=e,w.w.local.set(S.W.SHOW_USER_BUNDLES_BLOCK,t)},hideBundles(){this.setShowBundles(!1)},toggleBundles(){this.setShowBundles(!this.isShowBundles)}}},P,C=(0,b.A)(A,i,a,!1,null,"fde0836e",null).exports},687078:function(e,t,s){s.d(t,{A:function(){return Ue}});var i=function e(){var t=this,s=t._self._c;return s("div",{ref:"lWrapperSidebar",staticClass:"l-wrapper__sidebar",class:{"m-native-custom-scrollbar m-scrollbar-y m-scrollbar-always m-disable-autoscroll m-invisible-scrollbar":t.disableAutoScroll},style:{height:`${t.sidebarHeight}`,position:"auto"===t.sidebarHeight?"relative":"sticky"}},[t.hasProfileSearchInput&&!t.isProfilePage?s("feed-search",{staticClass:"m-autocomplete-search m-default-form m-field-height-lg",attrs:{"is-back-button":!1}}):t._e(),t.isVisiblePostsSearchInput?s("search-input",{staticClass:"m-autocomplete-search m-default-form",attrs:{"recent-storage-name":t.RECENT_SEARCH_STORAGE_NAME,placeholder:t.searchPlaceholder,"no-result-message":t.searchNoResultMessage,"query-mode":!1,"with-tabs":!1,"is-back-button":!1,"search-height-size":"lg","is-show":""},on:{change:function(e){return t.submitSearch(e,!0)}}}):t._e(),t.hasSidebarContent?s("div",{staticClass:"b-profile-list",class:{"m-separate-line":t.hasSidebarBanner&&t.isDesktop}},[t.showGuestFanSuggestionsBlock?s("guest-fan-suggestions"):t._e(),t.isShowLastsPhotosBlock?s("last-posts",{key:t.user.id}):t._e(),t.isListVisible?s("div",{staticClass:"b-profile__content__list m-end",class:{"m-my-profile":t.isAuthUser}},[t.authUser.isPerformer&&t.isSubscriber?s("widget-wrapper",{attrs:{title:t.$t("message.fan_statistics"),name:"isShowFanStats","container-class":"b-tab-container-fans"}},[s("ul",{staticClass:"b-fans__item__list m-fan-stats"},[s("li",{staticClass:"b-fans__item__list__item"},[s("span",{staticClass:"b-fans__item__list__label"},[t._v(" "+t._s(t.isExpired?t.$t("message.expired_title"):`${t.$t("message.subscribed_btn")}${t.$t("message.for")}`)+" ")]),s("span",[t._v(" "+t._s(t.isExpired?t.humanDate(t.subscriber.expiredAt):t.subscriber.duration)+" ")])]),s("li",{staticClass:"b-fans__item__list__item"},[s("span",{staticClass:"b-fans__item__list__label"},[t._v(" "+t._s(t.$t("message.fan_spent"))+" ")]),t._v(" "+t._s(t.totalSumm)+" ")]),s("li",{staticClass:"b-fans__item__list__item"},[s("span",{staticClass:"g-btn m-flat m-link m-no-uppercase m-reset-width m-default-font-weight",on:{click:t.openSubscriberPopup}},[t._v(" "+t._s(t.$t("message.profile_more_info_button"))+" ")])])])]):t._e(),t.isUserLinks?s("widget-wrapper",{attrs:{title:t.$t("message.things_i_like"),name:"isShowLinks"}},[s("things-i-like-widget")],1):t._e(),t.isUserNfts?s("widget-wrapper",{attrs:{title:t.nftTitle,name:"isShowNfts","btn-class":"m-no-text-transform"}},[s("nft-assets-widget")],1):t._e(),t.showShopify?s("widget-wrapper",{attrs:{title:t.$t("message.shopify_products"),name:"isShowShopify","container-class":"b-profile__bio__content"}},[s("shopify-products-widget")],1):t._e(),t.showSpringStore?s("widget-wrapper",{attrs:{title:t.$t("message.settings_spring_store_account"),name:"isShowSpringStore","container-class":"b-profile__bio__content"}},[s("spring-store-widget",{attrs:{"user-id":t.user.id,widget:""}})],1):t._e(),t.showFriendBlock?s("widget-wrapper",{attrs:{title:t.$t("message.profile_show_friends_button"),name:"isShowFriends","container-class":"b-profile__friends__list"}},[s("friends-widget")],1):t._e(),t.showSpotify?s("widget-wrapper",{attrs:{title:t.$t("message.profile_show_spotify_button"),name:"isShowSpotify","container-class":"b-profile__bio__content"}},[t.user.isSpotifyConnected?s("spotify-widget"):t.isAuthUser?s("spotify-settings",{staticClass:"b-tab-container"}):t._e()],1):t._e(),t.isOffersBlock?s("div",{staticClass:"b-profile__content__item"},[s("offers-block",{staticClass:"m-offer-bottom-gap-reset mb-0",attrs:{id:t.user.id,"show-bundles":!1}})],1):t._e(),t.hasSubscriptionPromo?s("div",{staticClass:"b-profile__content__item"},[s("subscription-promo")],1):t._e()],1):t._e()],1):t._e(),t.hasSidebarBanner&&t.isDesktop?s("banner-place"):t._e(),t.isDesktop?s("website-footer"):t._e()],1)},a=[],r=s(218111),o=s(720116),n=s(885471),l=s(974353),u=s.n(l),d=s(110908),c=function e(){var t=this,s=t._self._c;return t.isLoading||t.itemIds.length?s("div",{staticClass:"b-profile__content__item"},[s("div",{staticClass:"b-section-title m-row g-text-uppercase g-gray-text"},[t._v(" "+t._s(t.$t("message.section_title_recent"))+" ")]),t.isLoading?s("spinner-loader",{staticClass:"m-last-posts__preloader m-mb-16"}):t.itemIds.length?s("div",{staticClass:"b-photos m-recent-list g-sides-gaps m-pb-16 mb-0 m-col-3"},t._l(t.showingPosts,(function(e){return s("users-post-grid",{key:t.getKey(e),staticClass:"m-square",attrs:{post:e.post,"is-disabled-attachment-icons":!e.isLocked,"show-play-btn":!1,"is-last-posts":"","need-lightbox":!1},on:{mediaDetails:t.setGalleryIndex}})})),1):t._e()],1):t._e()},p=[],m=s(22489),h=s(607588),f=s(161701),g=s(26799),b=s(730394),_=s(561594),v=s(43253),w,S={name:"ProfileLastPosts",components:{UsersPostGrid:g.A,SpinnerLoader:b.default},mixins:[_.A,v.A],data(){return{isLoading:!0}},computed:{...(0,d.wiF)(["itemIds","lastSavedUserId"]),...(0,d.kbi)(["getPostById"]),...(0,d.ZOz)(["user"]),showingPosts(){const e=3,t=undefined;return this.getProcessedRecentPosts(this.itemIds.map((e=>this.getPostById(e))).filter((e=>!!e))).slice(0,3)}},async mounted(){const e=undefined;!this.showingPosts.length&&await this.fetchLastPosts({id:this.user.id}),this.isLoading=!1},created(){const e=undefined;this.lastSavedUserId!==this.user.id&&this.setItemIds()},methods:{...(0,d.nen)(["setItemIds"]),...(0,d.eIL)(["fetchLastPosts"]),setGalleryIndex({mediaId:e,postId:t}){const s=this.photoSwipeItems.findIndex((s=>s.media.id===e&&s.postId===t));this.showPhotoSwipe({index:s})},getKey(e){var t,s;let i=(null==e||null===(t=e.post)||void 0===t?void 0:t.id)||"";return null!=e&&null!==(s=e.post)&&void 0!==s&&null!==(s=s.media)&&void 0!==s&&s.length&&e.post.media.forEach((e=>{i+=`_${e.id||""}`})),i}}},y=s(281656),A,P=(0,y.A)(S,c,p,!1,null,"77db3695",null).exports,C=s(112478),L=s(953961),B=s(406298),k=s(711175),I=s(578853),x=function e(){var t=this,s=t._self._c;return s("div",{staticClass:"b-profile__content__item",class:{"m-active":t.isShow}},[s("button",{class:`b-section-title m-row m-collapsible g-gray-text m-with-rectangle-hover m-tb-sm ${t.btnClass}`,attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleWidgetState.apply(null,arguments)}}},[t._v(" "+t._s(t.title)+" "),s("span",{staticClass:"b-section-title__arrow"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-arrow-down",arg:"icon-arrow-down"}],staticClass:"m-button-arrow"})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],class:t.containerClass},[t._t("default")],2)])},$=[],T=s(734287),F,U={props:{title:{type:String,required:!0},name:{type:String,required:!0},btnClass:{type:String,default:"g-text-uppercase"},containerClass:{type:String,default:"b-tab-container"}},data(){return{isShow:!0}},computed:{...(0,d.ZOz)(["user"]),localStorageKey(){return`${this.user.id}_${this.name}`}},created(){this.isShow=T.w.local.get(this.localStorageKey,!0)},methods:{toggleWidgetState(){this.isShow=!this.isShow,T.w.local.set(this.localStorageKey,this.isShow)}}},O,R=(0,y.A)(U,x,$,!1,null,null,null).exports,D=s(489463),H=function e(){var t=this,s=t._self._c;return s("div",{staticClass:"b-things"},[s("drag-scroll",{staticClass:"m-gaps-inside m-wrap-items-text"},[t._l(t.userLinks,(function(e){return[e.url?s("info-card",{key:e.id,attrs:{url:e.url,title:e.title,description:e.description,name:t.getLinkType(e.url),text:t.getLinkType(e.url).substring(0,1),image:t.getImage(e)}}):t._e()]}))],2)],1)},E=[],N=s(73300),M=s(280822),W=s(600097),G,z={name:"ThingsILikeWidget",components:{InfoCard:N.A,DragScroll:M.A},mixins:[W.e],computed:{...(0,d._84)(["userLinks"])}},q,V=(0,y.A)(z,H,E,!1,null,null,null).exports,K=function e(){var t=this,s=t._self._c;return s("div",{staticClass:"b-things"},[s("drag-scroll",{staticClass:"m-gaps-inside m-wrap-items-text"},[t._l(t.nfts,(function(e){return[e.permalink?s("info-card-wrapper",{key:e.id,attrs:{href:e.permalink,title:e.name||""}},[s("div",{staticClass:"b-profile-info-card__preview",style:t.getStyle(e)}),s("div",{staticClass:"b-profile-info-card__section"},[s("span",{staticClass:"b-profile-info-card__section-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-link",arg:"icon-link"}]})]),s("span",{staticClass:"b-profile-info-card__section-name m-few-lines m-break-word-default"},[t._v(t._s(e.name))])])]):t._e()]}))],2)],1)},j=[],Q,Y,Z={name:"NftAssetsWidget",components:{InfoCardWrapper:s(894689).A,DragScroll:M.A},computed:{...(0,d._84)(["nfts"]),getStyle:()=>e=>e.imagePreviewUrl?`background-image: url(${e.imagePreviewUrl})`:""}},X,J=(0,y.A)(Z,K,j,!1,null,null,null).exports,ee=function e(){var t=this,s=t._self._c;return s("div",{staticClass:"b-profile__friends__list"},[s("div",{staticClass:"b-tab-container",class:{"m-loading-content":t.isLoadingFriends}},[t.isLoadingFriends?s("div",{staticClass:"b-posts_preloader_container"},[s("spinner-loader")],1):s("drag-scroll",{staticClass:"g-nowrap m-gaps-inside"},[t._l(t.preparedUserFriendsIds,(function(e){return s("friend",{key:e,staticClass:"m-friend-card",attrs:{"user-id":e,"can-remove-from-friends":t.isAuthUser,"profile-stat-source":"friends_widget"}})})),t.isShowAllFriendsButton?s("router-link",{staticClass:"b-profile-info-card align-self-stretch",attrs:{to:t.allFriendsRoute}},[s("button-block",{attrs:{text:t.$t("message.view_all_btn"),icon:"icon-friends"}})],1):t._e()],2)],1)])},te=[],se=s(410538),ie=s(137867),ae=s(203852),re=s(358887),oe=s(734155),ne,le={name:"FriendsWidget",components:{Friend:se.A,SpinnerLoader:b.default,ButtonBlock:ie.A,DragScroll:M.A},props:{friendsCount:{type:Number,default:10}},setup(e){const{store:t}=(0,ae.A)(),{user:s,userId:i}=(0,oe.A)(),{hasMoreFriends:a,userFriendsIds:r,isLoadingFriends:o,reset:l,fetchFriends:u,fetchPinnedFriends:d}=(0,re.A)(),c=(0,n.computed)((()=>t.getters["auth/authUser"]||{})),p=(0,n.computed)((()=>t.getters["auth/authUserId"]||{})),m=(0,n.computed)((()=>r.value.slice(0,e.friendsCount))),h=(0,n.computed)((()=>(r.value.length>e.friendsCount||a.value)&&!o.value)),f=(0,n.computed)((()=>i.value===p.value)),g=(0,n.computed)((()=>f.value&&c.value.isPerformer?{name:"MyFriends",params:{list:"friends"}}:{name:"ProfileFriends",params:{userId:s.value.username}}));async function b(){const{hasMore:t=!1}=await u();t&&m.value.length<e.friendsCount&&a.value&&await b()}const _=undefined;return(()=>{l(),d(),b()})(),(0,n.watch)(r,((t,s)=>{s.length>t.length&&t.length<e.friendsCount&&a.value&&b()})),{isLoadingFriends:o,allFriendsRoute:g,preparedUserFriendsIds:m,isShowAllFriendsButton:h,isAuthUser:f}}},ue,de=(0,y.A)(le,ee,te,!1,null,null,null).exports,ce=function e(){var t=this,s=t._self._c;return s("div",{staticClass:"b-tab-container"},[t.spotifyBioAnthem||t.spotifyBioTopArtists.length?s("div",{staticClass:"b-spotify d-flex align-items-start"},[s("drag-scroll",{staticClass:"m-with-scrollbar m-reset-center m-gaps-inside"},[t.isAnthemFilled?s("div",{staticClass:"b-spotify__item"},[s("div",{staticClass:"b-spotify__title g-semibold g-sm-text m-mb-8 mw-100"},[t._v(" "+t._s(t.$t("message.spotify_anthem_title"))+" ")]),s("a",{staticClass:"b-spotify__preview",style:"background-image: url("+t.spotifyBioAnthem.album.images[1].url+")",attrs:{href:t.spotifyBioAnthem.external_urls.spotify,target:"_blank"}},[s("div",{staticClass:"b-spotify__name g-semibold g-md-text"},[t._v(t._s(t.spotifyBioAnthem.name))])]),s("div",{staticClass:"b-spotify__desc g-md-text d-flex align-items-center m-mt-8 g-gray-text"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-logo-spotify",arg:"icon-logo-spotify"}],staticClass:"b-spotify__logo"}),t._v(" "+t._s(t.spotifyBioAnthem.artists.map((({name:e})=>e)).join(", "))+" ")])]):t._e(),t.spotifyBioTopArtists.length?s("div",{staticClass:"b-spotify__section"},[s("span",{staticClass:"b-spotify__title g-semibold g-sm-text m-mb-8 mw-100"},[t._v(" "+t._s(t.$t("message.spotify_top_title"))+" ")]),s("div",{staticClass:"b-spotify__group-items m-reset-center m-gaps-inside m-gaps-outside d-flex"},t._l(t.spotifyBioTopArtists,(function(e){return s("div",{key:e.id,staticClass:"b-spotify__item"},[s("a",{staticClass:"b-spotify__preview",class:{"m-default-bg":!t.artistsBackgroundStyles[e.id]},style:t.artistsBackgroundStyles[e.id],attrs:{href:e.external_urls.spotify,target:"_blank"}},[s("div",{staticClass:"b-spotify__name g-semibold g-md-text"},[t._v(t._s(e.name))])])])})),0)]):t._e()])],1):s("div",{staticClass:"g-section__header g-sides-gaps pt-0"},[s("h2",{staticClass:"g-section-title"},[t._v(" "+t._s(t.$t("message.settings_spotify_account"))+" ")]),s("router-link",{staticClass:"g-btn m-border m-rounded m-sm m-lg-gaps-sides",attrs:{to:{name:"SettingsSpotify"}}},[t._v(" "+t._s(t.$t("message.name_section_settings"))+" ")])],1)])},pe=[],me=s(858156),he=s.n(me),fe=s(18237),ge,be={name:"SpotifyWidget",components:{DragScroll:M.A},computed:{...(0,d._q5)(["spotifyBioTopArtists","spotifyBioAnthem"]),isAnthemFilled(){return!!(he()(this.spotifyBioAnthem,"external_urls.spotify")&&he()(this.spotifyBioAnthem,"album.images[1].url")&&this.spotifyBioAnthem.name&&Array.isArray(this.spotifyBioAnthem.artists))},artistsBackgroundStyles(){var e;return null!==(e=this.spotifyBioTopArtists)&&void 0!==e&&e.length?this.spotifyBioTopArtists.reduce(((e,{id:t,images:s})=>{if(!s.length)return{...e,[t]:""};const{url:i}=s[1]||s[0];return{...e,[t]:`background-image: url(${i})`}}),{}):{}}}},_e,ve=(0,y.A)(be,ce,pe,!1,null,"38ae11af",null).exports,we=s(780188),Se=s(128211),ye=s(688721),Ae=s(668567),Pe=s(345231),Ce=s(620514),Le=s(571441),Be=s(235615),ke=s(708075),Ie=s(600958),xe=s(709306),$e,Te={name:"UserList",components:{SearchInput:we.A,LastPosts:P,FeedSearch:B.default,BannerPlace:C.A,OffersBlock:I.A,SpotifyWidget:ve,FriendsWidget:de,WebsiteFooter:k.A,WidgetWrapper:R,NftAssetsWidget:J,SpotifySettings:ye.A,ThingsILikeWidget:V,SubscriptionPromo:L.A,SpringStoreWidget:Se.A,ShopifyProductsWidget:Ae.A,GuestFanSuggestions:Pe.A},mixins:[Ce.k,Le.A,Be.A],props:{disableAutoScroll:{type:Boolean,default:!1}},setup(){const{isRestrictedPosts:e,searchPlaceholder:t,searchNoResultMessage:s,submitSearch:i}=(0,ke.A)(),{proxy:a}=(0,n.getCurrentInstance)(),r=undefined;return{searchPlaceholder:t,searchNoResultMessage:s,isVisiblePostsSearchInput:(0,n.computed)((()=>a.hasProfileSearchInput&&a.isProfilePage&&!e.value)),RECENT_SEARCH_STORAGE_NAME:xe.V,submitSearch:i}},data(){return{lastScrollTop:0,sidebarHeight:this.disableAutoScroll?"sticky":"auto"}},computed:{...(0,d.GF1)(["streams"]),...(0,d.RAO)(["spotifyBio"]),...(0,d.B4G)(["route"]),userStream(){return(this.streams||[]).find((e=>e.user===this.user.id))},isExpired(){return!!this.subscriber&&(!this.subscriber.renewedAt&&this.subscriber.expiredAt&&+new Date(this.subscriber.expiredAt)-+new Date<=0)},totalSumm(){return this.subscriber?this.amountHumanShort(this.subscriber.totalSumm):"$0"},isDesktop(){return"lg"===this.$mq},hasProfileSearchInput(){return this.isDesktop&&this.isAuth&&!["Post",Ie.A.PROFILE_SEARCH].includes(this.$route.name)},isProfilePage(){return this.isDesktop&&this.isAuth&&this.isProfileRoute},nftTitle(){return this.isAuthUser?this.$t("message.my_nfts"):this.$t("message.nfts")}},async mounted(){this.disableAutoScroll||(this.isDesktop&&window.addEventListener("scroll",this.windowScrollHandler),window.addEventListener("resize",this.windowResizeHandler))},beforeDestroy(){window.removeEventListener("scroll",this.windowScrollHandler),window.addEventListener("resize",this.windowResizeHandler)},methods:{...(0,d.tSh)(["setModalUser","setForceFriendsReload"]),...(0,d.QW3)(["setModalOffer"]),openSubscriberPopup(){this.setModalUser({userId:this.user.id}),this.setModalOffer(this.offerId),this.$nextTick((()=>{this.$root.$emit("bv::show::modal","ModalSubscribersItem")}))},windowScrollHandler(e){var t;if(!this.$refs.lWrapperSidebar)return this.sidebarHeight="auto",void window.removeEventListener("scroll",this.windowScrollHandler);if(this.isDesktop&&null!==(t=e.target)&&void 0!==t&&t.documentElement&&this.$refs.lWrapperSidebar&&this.$refs.lWrapperSidebar.scrollHeight<document.body.scrollHeight){const t=e.target.documentElement.scrollTop<=0?0:e.target.documentElement.scrollTop,s=this.$refs.lWrapperSidebar.scrollHeight-this.$refs.lWrapperSidebar.clientHeight,i=t-this.lastScrollTop;this.sidebarHeight=`${window.innerHeight}px`,(s>this.$refs.lWrapperSidebar.scrollTop||i<0&&0!==this.$refs.lWrapperSidebar.scrollTop)&&this.$refs.lWrapperSidebar.scroll(0,this.$refs.lWrapperSidebar.scrollTop+i),this.lastScrollTop=t}else this.sidebarHeight="auto"},windowResizeHandler(){this.isDesktop&&this.$refs.lWrapperSidebar&&this.$refs.lWrapperSidebar.scrollHeight<document.body.scrollHeight?window.addEventListener("scroll",this.windowScrollHandler):(window.removeEventListener("scroll",this.windowScrollHandler),this.sidebarHeight="auto")},humanDate(e){return u()(e).format("MMM D, YYYY")}}},Fe,Ue=(0,y.A)(Te,i,a,!1,null,"2f110a64",null).exports},688905:function(e,t,s){s.d(t,{A:function(){return c}});var i=function e(){var t=this,s=t._self._c;return s("button",{staticClass:"g-btn m-rounded m-flex m-space-between m-promotion",class:{"m-lg":t.large},attrs:{type:"button"},on:{click:function(e){return t.bundleClickHandler(t.bundle)}}},[s("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:{text:t.bundle.discount?t.$t("message.bundle_label_modal",{DURATION:t.bundle.duration,DISCOUNT:t.bundle.discount}):t.$t("message.bundle_label_modal_without_discount",{DURATION:t.bundle.duration})},expression:"{ text: bundle.discount\n      ? $t('message.bundle_label_modal', { DURATION: bundle.duration, DISCOUNT: bundle.discount })\n      : $t('message.bundle_label_modal_without_discount', { DURATION: bundle.duration }) }"}],staticClass:"b-btn-text"}),s("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:{text:t.$t("message.bundle_total_modal",{AMOUNT:t.amountHumanShort(t.bundle.price,"")})},expression:"{ text: $t('message.bundle_total_modal', { AMOUNT: amountHumanShort(bundle.price, '') }) }"}],staticClass:"b-btn-text__small"})])},a=[],r=s(191646),o=s(781894),n,l={name:"BundleOffer",mixins:[r.wd,o.A],props:{bundle:{type:Object,required:!0},user:{type:Object,required:!0},large:{type:Boolean,default:!1}}},u,d,c=(0,s(281656).A)(l,i,a,!1,null,null,null).exports},715698:function(e,t,s){var i=s(885471),a=s(203852),r=s(47452),o=s(734155),n=s(444962),l=s(441701),u=s(248806);function d(){const{t:e}=(0,n.A)(),{store:t}=(0,a.A)(),{user:s,userId:d}=(0,o.A)(),{routeQuery:c}=(0,r.A)(),{postsFilter:p,isPosts:m}=(0,l.A)(),h=(0,i.computed)((()=>t.getters["auth/authUserId"])),f=(0,i.computed)((()=>{var e;return(null===(e=t.state.init)||void 0===e?void 0:e.isAuth)||!1})),g=(0,i.computed)((()=>d.value===h.value)),b=(0,i.computed)((()=>f.value&&s.value.isPerformer&&s.value.hasLabels&&m.value)),_=(0,i.computed)((()=>{const{isPrivateRestriction:e,subscribedBy:t,postsCount:i,archivedPostsCount:a}=s.value;return!g.value&&e&&!t||!i&&!a})),v=(0,i.computed)((()=>{const{order:t}=c.value;return null!=t&&t.includes(u.x2.FAVORITES_COUNT)?e("message.sort_most_liked_label"):null!=t&&t.includes(u.x2.TIPS_SUM)?e("message.sort_highest_tips_label"):e("message.section_title_recent")})),w=(0,i.computed)((()=>"archived"===p.postType)),S=(0,i.computed)((()=>!w.value)),y=(0,i.computed)((()=>t.getters["posts/isGridLayout"])),A=(0,i.computed)((()=>t.getters["posts/isMediaGridLayout"])),P=(0,i.computed)((()=>m.value?y.value:A.value)),C=()=>t.commit("posts/toggleLayout"),L=()=>t.commit("posts/toggleMediaLayout"),B=()=>m.value?C():L();return{isAuthUser:g,headerTitle:v,isGridLayout:P,isDisabledBtn:_,isArchivedPage:w,isShowLayoutGrid:S,isPostsGridLayout:y,isMediaGridLayout:A,isShowPostsLabels:b,togglePostsLayout:C,toggleMediaLayout:L,onChangeGridLayout:B}}t.A=d},724479:function(e,t,s){s.d(t,{A:function(){return p}});var i=function e(){var t=this,s=t._self._c;return s("div",{ref:"releaseForms",staticClass:"b-chat__message__list-titles"},[s("add-to-lists-wrapper",{key:t.value.id,staticClass:"g-gray-text mb-0 w-100",class:{"m-bubble-view m-message-content-bg":t.bubbleInChat}},[s("button",{staticClass:"g-btn m-btn-icon m-reset-width m-flat m-with-round-hover m-size-sm-hover",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openReleaseFormList.apply(null,arguments)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-account",arg:"icon-account"}]})]),s("drag-scroll",{class:{"g-sides-r-gap":t.bubbleInChat},attrs:{"hide-keyboard-on-scroll":!!t.releaseForms.length}},[s("span",{directives:[{name:"touch-hover",rawName:"v-touch-hover"}],staticClass:"g-btn m-flat m-link m-default-font-weight m-no-uppercase m-reset-width b-dot-item",on:{click:t.openReleaseFormList}},[s("span",{staticClass:"b-list-titles__item__text"},[t._v(t._s(t.$t("message.release_forms_title")))])]),t._l(t.releaseForms,(function(e){return s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.tooltipMixin_getTooltipText(e.name),boundariesElement:"m-link"},expression:"{\n          content: tooltipMixin_getTooltipText(releaseForm.name),\n          boundariesElement: 'm-link',\n        }"},{name:"touch-hover",rawName:"v-touch-hover"}],key:`${e.id}${e.type}`,staticClass:"g-btn m-flat m-link m-default-font-weight m-no-uppercase m-reset-width b-dot-item",on:{click:t.openReleaseFormList}},[s("span",{staticClass:"b-list-titles__item__text"},[t._v(t._s(t.$filters.decodeHtml(t.tooltipMixin_truncateText(e.name))))])])}))],2)],1)],1)},a=[],r=s(447778),o=s(280822),n=s(489464),l,u={name:"ReleaseFormsListTitles",components:{AddToListsWrapper:r.A,DragScroll:o.A},mixins:[n.Ay],props:{value:{type:Object,default:null},bubbleInChat:{type:Boolean,required:!1},releaseForms:{type:Array,default:()=>[]},isTemplate:{type:Boolean,required:!1}},data(){return{infiniteId:+new Date,isLoading:!1}},watch:{releaseForms(e){this.$root.$emit(`update:${this.value.id}:attached:release:data`,e)}},mounted(){this.$root.$on(`updated:${this.value.id}:attached:release:data`,this.updateReleaseForms)},beforeDestroy(){this.$root.$off(`updated:${this.value.id}:attached:release:data`,this.updateReleaseForms)},methods:{openReleaseFormList(){this.$root.$emit("show:attached-form:modal",{releaseForms:this.releaseForms,value:this.value,isTemplate:this.isTemplate})},updateReleaseForms(e){this.$emit("updateReleaseForms",e)}}},d,c,p=(0,s(281656).A)(u,i,a,!1,null,null,null).exports},835443:function(e,t,s){s.d(t,{A:function(){return x}});var i=function e(){var t=this,s=t._self._c;return t.isLabelChipsVisible?s("posts-labels-chips",{attrs:{"user-labels":t.fullListUserLabels,"selected-label-id":t.labelId,"is-has-more":t.isLabelsHasMore,"is-hide-posts-labels-counters":t.isHidePostsLabelsCounters},on:{onInfiniteHandler:t.infiniteHandler,onClickLabelChip:t.onClickLabelChip}}):t._e()},a=[],r=s(218111),o=s(22489),n=s(161701),l=s(962953),u=s(885471),d=s(248806),c=s(507920),p=s(734155),m=s(444962),h=s(203852),f=s(47452),g=s(600958),b=s(893109);function _(e){if(!(0,u.isRef)(e))return;const{store:t}=(0,h.A)(),{routeName:s}=(0,f.A)(),i=(0,u.computed)((()=>t.getters["auth/isAuth"])),a=(0,u.computed)((()=>s.value===g.A.PROFILE)),r=(0,u.computed)((()=>s.value===g.A.PROFILE_INNER)),o=(0,u.computed)((()=>s.value===b.A.POST_LABEL)),n=(0,u.computed)((()=>s.value===g.A.PROFILE_SEARCH)),l=(0,u.computed)((()=>n.value)),d=(0,u.computed)((()=>i.value&&e.value.isPerformer&&e.value.hasLabels&&!r.value&&!o.value));return{isProfilePage:a,isPostLabelPage:o,isProfileInnerPage:r,isProfileSearchPage:n,isLabelChipsVisible:d,isHidePostsLabelsCounters:l}}var v=_,w=s(547822),S=s(918765),y=s(392499),A=s(977434);function P(e){if(!(0,u.isRef)(e))return;const{store:t}=(0,h.A)(),s=(0,u.ref)(0),i=(0,u.ref)(!1),a=(0,u.computed)((()=>{var e;return(null===(e=t.state)||void 0===e||null===(e=e.postLabels)||void 0===e?void 0:e.userLabelsIds)||[]})),r=(0,u.computed)((()=>t.getters["postLabels/getPostLabel"])),o=e=>t.dispatch("postLabels/fetchUserPostLabels",e),n=async()=>{s.value=i.value?s.value+A.Jg:0,i.value=await o({offset:s.value,userId:e.value.id})},l=async e=>{await n(),i.value?e.loaded():e.complete()},d=()=>{i.value=!0,s.value=0},c=async()=>{i.value=!1,await n()};return{offset:s,userLabelsIds:a,isLabelsHasMore:i,getDataPostLabelById:r,reset:c,getLabels:n,infiniteHandler:l,resetRequestOptions:d,fetchUserPostLabels:o}}var C=P,L,B={name:"ProfileLabelsChips",components:{PostsLabelsChips:c.A},setup(){const{user:e}=(0,p.A)(),{t:t}=(0,m.A)(),{EVENTS:s,setEventListener:i}=(0,w.A)(),{labelId:a,setLabelId:r,resetLabelId:o}=(0,S.A)(),{fetchUserPostsByType:n,fetchPostsPinned:l}=(0,y.A)(),{isLabelChipsVisible:c,isHidePostsLabelsCounters:h}=v(e),{userLabelsIds:f,isLabelsHasMore:g,getDataPostLabelById:b,reset:_,getLabels:A,infiniteHandler:P,resetRequestOptions:L}=C(e),B=(0,u.computed)((()=>f.value.map((e=>b.value(e))).filter((e=>!(null==e||!e.postsCount))))),k=(0,u.computed)((()=>[{id:"all",name:t("message.all_button"),postsCount:e.value.postsCount},...B.value])),I=({id:e}={})=>{const t=d.E_.ALL===e;r(e),t?(l({isPinnedPostRemove:t}),n({pinned:Number(!t)})):n()},x=undefined;return(()=>{A(),i(s.POST.LABEL.SORT.ON_CHANGE,_),i(s.POST.LABEL.MODAL.HIDE,L)})(),(0,u.onBeforeUnmount)((()=>{o()})),{labelId:a,isLabelsHasMore:g,fullListUserLabels:k,isLabelChipsVisible:c,isHidePostsLabelsCounters:h,setLabelId:r,infiniteHandler:P,onClickLabelChip:I,fetchUserPostsByType:n}}},k,I,x=(0,s(281656).A)(B,i,a,!1,null,null,null).exports},953961:function(e,t,s){s.d(t,{A:function(){return f}});var i=function e(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"b-section-title m-row g-text-uppercase g-gray-text"},[t._v(" "+t._s(t.$t("message.subscription_title"))+" ")]),s("router-link",{staticClass:"b-menu-list__el m-with-rectangle-hover m-tb-sm m-after-title",attrs:{to:{name:"SettingsSubscription"}}},[s("div",{staticClass:"b-menu-list__text"},[t._v(" "+t._s(t.$t("message.profile_subscription_price_promotions"))+" ")]),s("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:{text:t.subscriptionBtnDesc},expression:"{ text: subscriptionBtnDesc }"}],staticClass:"b-menu-list__subtext"}),s("div",{staticClass:"b-menu-list__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-arrow-right",arg:"icon-arrow-right"}]})])]),t.hasPromotion?s("promotion",{attrs:{id:t.user.id,"hide-title":"","is-collapse-mode":"","show-claims-count":!1,"show-start-campaign":!1}}):t._e()],1)},a=[],r=s(858156),o=s.n(r),n=s(847422),l=s(620514),u=s(191646),d=s(235615),c,p={name:"SubscriptionPromo",components:{Promotion:n.A},mixins:[l.k,u.tD,d.A],computed:{hasPromotion(){return o()(this,"user.promotions",[]).length},subscriptionBtnDesc(){if(!this.authUser.subscribePrice||this.authUser.subscribePrice<=0)return this.$t("message.profile_free_subscription");let e=this.$t("message.message_type_price_per_month",{PRICE:this.priceHuman(this.authUser.subscribePrice)});return this.authUser.subscriptionBundles&&this.authUser.subscriptionBundles.length&&(e+=`, ${this.$tc("message.bundles_count_plural",this.authUser.subscriptionBundles.length,{COUNT:this.authUser.subscriptionBundles.length})}`),e}}},m,h,f=(0,s(281656).A)(p,i,a,!1,null,null,null).exports}}]);