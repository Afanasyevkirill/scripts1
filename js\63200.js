(self.webpackChunkof_vue=self.webpackChunkof_vue||[]).push([[3540,63200,97200],{73792:function(e,t,s){"use strict";s.d(t,{C:function(){return N},c:function(){return L}});var i=s(533110),r=s(977434),n=s(16280),a=s(711745),o=s(816573),l=s(878100),c=s(177936),u=s(218111),d=s(161701),h=s(725440),g=s(321489),m=s(748140),p=s(775044),f=s(821903),_=s(491134),E=s(548345),P=s(128845),I=s(400373),v=s(237467),b=s(444732),O=s(979577),A=s(962953),w=s(964979);const T=(e,t)=>r.Ay.post(t,e).then((e=>e.data)),D=e=>{const t=(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(t){if(1===t)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");e+=new Array(5-t).join("=")}return window.atob(e)},R=e=>btoa(String.fromCharCode(...e)),C=e=>{const t=JSON.parse(e);return t.challenge=Uint8Array.from(D(t.challenge),(e=>e.charCodeAt(0))),void 0!==t.user&&(t.user={...t.user,id:Uint8Array.from(window.atob(t.user.id),(e=>e.charCodeAt(0)))}),void 0!==t.excludeCredentials&&(t.excludeCredentials=t.excludeCredentials.map((e=>({...e,id:Uint8Array.from(D(e.id),(e=>e.charCodeAt(0)))})))),void 0!==t.allowCredentials&&(t.allowCredentials=t.allowCredentials.map((e=>({...e,id:Uint8Array.from(D(e.id),(e=>e.charCodeAt(0)))})))),t},S=e=>{const t={id:e.id,type:e.type,rawId:R(new Uint8Array(e.rawId)),response:{clientDataJSON:R(new Uint8Array(e.response.clientDataJSON))}};return void 0!==e.response.attestationObject&&(t.response.attestationObject=R(new Uint8Array(e.response.attestationObject))),void 0!==e.response.authenticatorData&&(t.response.authenticatorData=R(new Uint8Array(e.response.authenticatorData))),void 0!==e.response.signature&&(t.response.signature=R(new Uint8Array(e.response.signature))),void 0!==e.response.userHandle&&(t.response.userHandle=R(new Uint8Array(e.response.userHandle))),t},y=(e=!1)=>{const t=e?"login":"register",s=undefined,i=`${`${r.XV}/webauthn/`}${t}`;return async t=>{const s=await T(t,`${i}/options`),r=JSON.stringify(s),n=C(r),a=await navigator.credentials[e?"get":"create"]({publicKey:n}),o=S(a),l=await T({...t,...o},i);if(!l.success)throw l;return{...l,id:o.id}}},L=y(),N=y(!0)},97200:function(e,t,s){var i=s(213222),r=0;function n(e){var t=++r;return i(e)+t}e.exports=n},116376:function(e,t,s){"use strict";s.d(t,{A:function(){return N}});var i=function e(){var t=this,s=t._self._c;return s("form",{staticClass:"b-loginreg__form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.formSubmit.apply(null,arguments)}}},[s("h3",[t._v(t._s(t.translationsMap.formTitle))]),t.isWebAuthLogin?s("input-o-f",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"username",class:{"m-reset-bottom-gap":t.errorMsg},attrs:{"data-vv-as":t.$t("message.username_label"),readonly:t.requestInProgress,label:t.$t("message.username_label"),error:t.errors.first("username"),"hide-error":!t.isFieldDirty("username")&&!t.isFieldValidated("username"),name:"username",autocomplete:"username webauthn",required:"","at-attr":"login_username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}):[t.isLogin?t._e():s("input-o-f",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"name",attrs:{"data-vv-as":t.$t("message.name_placeholder"),name:"name",required:"",readonly:t.requestInProgress,maxlength:40,label:t.$t("message.name_placeholder"),error:t.errors.first("name"),"hide-error":!t.isFieldDirty("name")&&!t.isFieldValidated("name"),"at-attr":"sign_up_name"},on:{input:t.clearErrorMessage},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}}),s("input-o-f",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],key:"email",attrs:{"data-vv-as":t.$t("message.lost_login_email_placeholder"),name:"email",type:"email",readonly:t.requestInProgress,required:"",label:t.$t("message.lost_login_email_placeholder"),error:t.errors.first("email"),"hide-error":!t.isFieldDirty("email")&&!t.isFieldValidated("email"),"at-attr":"login_email","disable-native-focus-event":""},on:{input:t.clearErrorMessage},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}}),s("password",{directives:[{name:"validate",rawName:"v-validate",value:t.isLogin?"required":"required|min:8|max:255|checkPassword",expression:"isLogin ? 'required' : 'required|min:8|max:255|checkPassword'"}],key:"password",class:{"m-reset-bottom-gap":t.errorMsg&&t.isLogin},attrs:{"data-vv-as":t.$t("message.password_placeholder"),required:"",label:t.$t("message.password_placeholder"),readonly:t.requestInProgress,error:t.errors.first("password"),"hide-error":!t.isFieldDirty("password")&&!t.isFieldValidated("password"),"at-attr":"login_password","is-show-password":t.isShowPassword,"disable-native-focus-event":""},on:{"update:isShowPassword":function(e){t.isShowPassword=e},"update:is-show-password":function(e){t.isShowPassword=e},input:t.clearErrorMessage},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],t.errorMsg?s("div",{staticClass:"g-input__help m-danger error_place error_place_form mb-2 text-left",class:{"m-pt-4":!t.isLogin},attrs:{"at-attr":"error",role:"alert"}},[t._v(" "+t._s(t.errorMsg)+" ")]):t._e(),t.loadCaptcha?s("captcha",{ref:"captcha",staticClass:"g-input__wrapper",attrs:{action:"login",data:t.captchaMixin_captchaData,"disabled-visible":t.captchaMixin_disabledVisibleCaptcha,"disabled-invisible":t.captchaMixin_disabledInvisibleCaptcha,reload:t.captchaMixin_reloadCaptcha,"visible-rendered":t.captchaMixin_visibleRendered},on:{"update:data":function(e){t.captchaMixin_captchaData=e},"update:disabledVisible":function(e){t.captchaMixin_disabledVisibleCaptcha=e},"update:disabled-visible":function(e){t.captchaMixin_disabledVisibleCaptcha=e},"update:disabledInvisible":function(e){t.captchaMixin_disabledInvisibleCaptcha=e},"update:disabled-invisible":function(e){t.captchaMixin_disabledInvisibleCaptcha=e},"update:visibleRendered":function(e){t.captchaMixin_visibleRendered=e},"update:visible-rendered":function(e){t.captchaMixin_visibleRendered=e},invisibleTokenCreated:t.invisibleTokenCreated,error:t.captchaError}}):t._e(),s("button",{staticClass:"g-btn m-rounded m-block m-md mb-0",class:{"m-loading":t.requestInProgress},attrs:{type:"submit","at-attr":"submit",disabled:t.submitDisabled}},[t._v(" "+t._s(t.translationsMap.buttonText)+" "),s("svg",{directives:[{name:"show",rawName:"v-show",value:t.requestInProgress,expression:"requestInProgress"},{name:"svg-sprite",rawName:"v-svg-sprite:icon-loading",arg:"icon-loading"}]})]),t.translationsMap.subtext?s("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:{text:t.translationsMap.subtext},expression:"{ text: translationsMap.subtext }"}],staticClass:"b-loginreg__form__issues",on:{click:t.innerLinkToRouter}}):t._e(),s("div",{staticClass:"b-loginreg__links",class:{"m-signup-links":!t.isLogin}},[t.isLogin&&!t.isWebAuthLogin?s("span",[s("button",{staticClass:"g-btn m-flat forgot m-reset-width m-no-uppercase m-default-font-weight",attrs:{type:"button","at-attr":"forgot_password"},on:{click:function(e){return e.preventDefault(),t.openRestoreModal.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("message.forgot_password_link_title"))+" ")])]):t._e(),s("span",[t.isLogin?t._e():[t._v(" "+t._s(t.$t("message.loginreg_have_account"))+" ")],s("button",{staticClass:"g-btn m-flat m-reset-width m-no-uppercase m-default-font-weight",attrs:{"at-attr":"sign_up",type:"button"},on:{click:t.toggleForm}},[t._v(" "+t._s(t.translationsMap.toggleFormText)+" ")])],2)]),s("a",{staticClass:"g-btn m-rounded m-twitter m-md m-block m-mb-16 m-social-btn m-reset-wcag-link-focus",attrs:{href:`/twitter/auth${t.queryString}`}},[s("span",{staticClass:"b-btn-social-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-x-social-simple",arg:"icon-x-social-simple"}]})]),t._v(" "+t._s(t.$t("message.sign_in_with_x"))+" ")]),s("a",{staticClass:"g-btn m-rounded m-google m-md m-block m-mb-16 m-social-btn m-reset-wcag-link-focus",attrs:{href:`/auth/google${t.queryString}`},on:{click:t.onGoogleAuthClickHandler}},[s("span",{staticClass:"b-btn-social-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-logo-google",arg:"icon-logo-google"}]})]),t._v(" "+t._s(t.$t("message.sign_in_with_google"))+" ")]),t.isWebauthAllow?s("button",{staticClass:"g-btn m-rounded m-md m-block",class:{"m-mb-16 m-social-btn":!t.isWebAuthLogin},on:{click:function(e){return e.preventDefault(),t.toggleLoginType.apply(null,arguments)}}},[t.isWebAuthLogin?[t._v(" "+t._s(t.$t("message.default_login"))+" ")]:[s("span",{staticClass:"b-btn-social-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite:icon-fingerprint",arg:"icon-fingerprint"}]})]),t._v(" "+t._s(t.$t("message.passwordless_sign_in"))+" ")]],2):t._e(),t.loadRestore?s("modal-restore"):t._e()],2)},r=[],n=s(962193),a=s.n(n),o=s(218111),l=s(13579),c=s(962953),u=s(903540),d=s.n(u),h=s(110908),g=s(494948),m=s(889164),p=s(969704),f=s(704140),_=s(653078),E={computed:{isFormValid(){return!this.$validator.errors.items.length},isFieldDirty(){return e=>this.fields[e]&&this.fields[e].dirty},isFieldValidated(){return e=>this.fields[e]&&this.fields[e].validated},isFormDirty(){return Object.keys(this.fields).some((e=>this.fields[e].dirty))}}},P=s(967040),I=s(606425),v=s(734287),b=s(758987),O=s(73792),A=s(802123),w=s(810714),T=s(951425);const D=()=>Promise.all([s.e(88374),s.e(46239)]).then(s.bind(s,600675)),R=()=>Promise.all([s.e(88374),s.e(36933)]).then(s.bind(s,788374));var C,S={name:"FormSign",components:{InputOF:m.A,Password:p.A,ModalRestore:D,Captcha:R},mixins:[f.A,_.A,E,P.A,I.A],props:{subscribe:{type:Boolean,default:!1},signAsButton:{type:Boolean,default:!1},signScreen:{type:Boolean,default:!1}},data(){return{errorMsg:"",username:"",userData:{email:"",password:"",name:""},validatorPaused:!1,requestInProgress:!1,isShowPassword:!1,loadRestore:!1,isLoginTroubles:!1,loadCaptcha:!1,isWebAuthLogin:!1,isWebauthAllow:!1}},computed:{...(0,h.npG)(["isAuth","authUser"]),...(0,h.why)(["isLogin","csrf"]),...(0,h.ZOz)(["userId"]),...(0,h.Hdj)(["getInit"]),...(0,h.pOe)(["isOtpModalShow"]),queryString(){return this.csrf?`?csrf=${this.csrf}`:""},translationsMap(){let e="";switch(!0){case this.isLogin:e=this.$t("message.log_in");break;case this.signScreen:e=`${this.$t("message.create_account_or_login")}:`;break;default:e=this.$t("message.create_your_account")}let t=this.$t(`message.${this.isLogin?"login":"reg"}_agree`);return this.isLoginTroubles&&(t=`${t}<br>${this.$t("message.unable_login_help")}`),{buttonText:this.$t(`message.loginreg_${this.isLogin?"login":"signup"}_button`),toggleFormText:this.$t("message.login"+(this.isLogin?"_signup_button":"reg_login_button")),subtext:t,formTitle:e}},isEmptyData(){const e=!this.userData.email||!this.userData.password;return this.isLogin?e:e||!this.userData.name},submitDisabled(){return this.isWebAuthLogin?a()(this.username):this.requestInProgress||!this.isFormValid||this.captchaMixin_disabledVisibleCaptcha||this.isEmptyData||this.loadCaptcha&&a()(this.captchaMixin_captchaData)}},watch:{isFormValid(){this.clearErrorMessage()},captchaMixin_disabledVisibleCaptcha(e){e&&(this.requestInProgress=!1)}},async created(){const{PublicKeyCredential:e}=window;try{this.isWebauthAllow=await(null==e?void 0:e.isUserVerifyingPlatformAuthenticatorAvailable())}catch(s){(0,b.Bg)(s)}var t;this.isWebauthAllow||(this.isWebauthAllow="function"==typeof e&&Boolean(null===(t=navigator.credentials)||void 0===t?void 0:t.create))},methods:{...(0,h.I29)(["fetchUserMe"]),...(0,h.KYS)(["assignGuestByToken"]),...(0,h.peC)(["setIsLogin"]),invisibleTokenCreated(){this.requestInProgress&&(this.requestInProgress=!1,this.formSubmit())},async formSubmit(){if(this.requestInProgress)return;const e=undefined;if(!await this.$validator.validateAll()&&!this.isWebAuthLogin)return;if(!this.isLogin&&!this.isWebAuthLogin){const e=Object.values(this.userData);if(e.some(((t,s)=>e.indexOf(t)!==s)))return void alert(this.$t("message.reg_same_values_error"))}let t;this.clearErrorMessage(),this.requestInProgress=!0;const s=v.w.session.get(T.v.RF_GUEST_TOKEN);try{if(this.isWebAuthLogin){const{username:e}=this;t=await(0,O.C)({username:e})}else{if(!this.loadCaptcha)return void(this.loadCaptcha=!0);if(this.captchaMixin_disabledInvisibleCaptcha)return;const e={...this.userData,...this.captchaMixin_captchaData,encodedPassword:(0,A.fM)(this.userData.password)};delete e.password,this.isLogin?delete e.name:s&&(e.guestToken=s);const i=this.isLogin?g.iD:g.kz;t=await i(e),this.captchaMixin_visibleRendered=!1}}catch(i){this.requestInProgress=!1,(0,b.pw)(i,this.errorHandler)}if(t){if(this.resetRefs(),await this.fetchUserMe(),!this.getInit.isAuth)return void(this.requestInProgress=!1);if(this.setIsLogin(!0),s&&(await this.assignGuestByToken({token:s,isConfirm:this.isLogin,getInteractResult:this.getInteractResult}),v.w.session.remove(T.v.RF_GUEST_TOKEN)),v.w.local.remove(w.W.SUBSCRIBE_LOGIN),!this.isAuth&&this.isOtpModalShow)return this.requestInProgress=!1,void(this.isOtpModalShow&&(v.w.local.set(w.W.SUBSCRIBE_LOGIN,!0),this.$emit("sign-need-otp"),this.subscribe&&this.$root.$emit("sign-subscribe-with-otp")));if(this.subscribe)return void this.$root.$emit("sign-subscribe");this.$emit("sign-main"),this.requestInProgress=!1}},errorHandler(e){const{error:t,code:s,errors:i}=this.captchaMixin_errorHandler(e,!0);if(t){if(!this.captchaMixin_errorMessage)return void this.clearErrorMessage();if(102!==s&&(this.isLoginTroubles=!0),this.captchaMixin_errorMessage&&!i){const e=`message.${this.captchaMixin_errorMessage}`;this.errorMsg=this.$te(e)?this.$t(e):this.captchaMixin_errorMessage}}},toggleForm(){this.clearErrorMessage(),this.setIsLogin(!this.isLogin),this.isLogin||(this.isWebAuthLogin=!1),this.isShowPassword=!1},async openRestoreModal(){this.loadRestore||window.showPreloader(),this.loadRestore=!0,await D(),setTimeout((()=>{window.hidePreloader(),this.$root.$emit("bv::show::modal","ModalRestore")}),0)},captchaError(){this.requestInProgress=!1},clearErrorMessage(){this.errorMsg=""},toggleLoginType(){this.isWebAuthLogin=!this.isWebAuthLogin,this.isWebAuthLogin&&this.setIsLogin(!0),this.clearErrorMessage()},onGoogleAuthClickHandler(e){const t=undefined;d()(navigator.userAgent)&&(e.preventDefault(),this.$nextTick((()=>{alert(this.$t("message.webview_auth_instruction"),!0)})))}}},y,L,N=(0,s(281656).A)(S,i,r,!1,null,"6a0aff74",null).exports},187630:function(e){e.exports=["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})","Linux; U; Android"]},433032:function(e,t,s){"use strict";s.d(t,{D:function(){return o},G:function(){return a}});var i=s(155331),r=s(826489),n=s.n(r);const a=r.isAndroid||i.CN&&"Linux"===r.osName,o=r.isIOS&&parseFloat(r.osVersion)<15.4},547822:function(e,t,s){"use strict";var i=s(185015),r=s.n(i),n=s(218111),a=s.n(n),o=s(22489),l=s.n(o),c=s(607588),u=s.n(c),d=s(962953),h=s.n(d),g=s(885471),m=s(651504),p=s.n(m),f=s(619613);const _=new m.TinyEmitter;function E(){const e=(e,t)=>{const s=undefined,i=(Array.isArray(e)?e:[e]).filter((e=>r()(e)&&Boolean(e)));(0,g.onMounted)((()=>{i.forEach((e=>{_.on(e,t)}))})),(0,g.onBeforeUnmount)((()=>{i.forEach((e=>{_.off(e,t)}))}))};return{EVENTS:f.q,setEventListener:e,$emit:(e,...t)=>_.emit(e,...t),$off:(e,t)=>_.off(e,t),$on:(e,t,s)=>_.on(e,t,s),$once:(e,t,s)=>_.once(e,t,s)}}t.A=E},548345:function(e,t,s){"use strict";var i=s(772805),r,n;(0,s(794644).exportTypedArrayStaticMethod)("from",s(843251),i)},606425:function(e,t){"use strict";t.A={methods:{getInteractResult(e){return window.interact(this.$t("message.creator_wants_to_tag_you",{NAME:e}),{confirmText:this.$t("message.confirm_button")})}}}},619613:function(e,t,s){"use strict";s.d(t,{q:function(){return i}});const i={TIPS_POPUP:{INIT:"TIPS_POPUP::INIT",ADDED:"TIPS_POPUP::ADDED",OPENED:"TIPS_POPUP::OPENED",CLOSED:"TIPS_POPUP::CLOSED"},ADD_NEW_CARD_POPUP:{INIT:"ADD_NEW_CARD_POPUP::INIT",ADDED:"ADD_NEW_CARD_POPUP::ADDED"},PAYMENT_SELECTION_POPUP:{INIT:"PAYMENT_SELECTION_POPUP::INIT",ADDED:"PAYMENT_SELECTION_POPUP::ADDED",CLOSED:"PAYMENT_SELECTION_POPUP::CLOSED"},PAYMENT_PAY_SERVICE_POPUP:{INIT:"PAYMENT_PAY_SERVICE_POPUP::INIT",CLOSED:"PAYMENT_PAY_SERVICE_POPUP::CLOSED"},CARD_VERIFICATION_POPUP:{INIT:"CARD_VERIFICATION_POPUP::INIT",CLOSED:"CARD_VERIFICATION_POPUP::CLOSED",VERIFIED:"CARD_VERIFICATION_POPUP::VERIFIED"},CONFIRM_SUBSCRIPTION_RENEW_POPUP:{INIT:"CONFIRM_SUBSCRIPTION_RENEW_POPUP::INIT",CLOSED:"CONFIRM_SUBSCRIPTION_RENEW_POPUP::CLOSED"},PHOTO_EDITOR:{EMOJI_CATEGORY_CHANGE:"PHOTO_EDITOR::EMOJI::CATEGORY_CHANGE",EMOJI_SEARCH_HIDE:"PHOTO_EDITOR::EMOJI::SEARCH_HIDE",GIPHY_CATEGORY_CHANGE:"PHOTO_EDITOR::GIPHY::CATEGORY_CHANGE",VAULT_LIST_CHANGE:"PHOTO_EDITOR::VAULT::LIST_CHANGE",ASSETS_SEARCH:"PHOTO_EDITOR:ASSETS_SEARCH"},CARD_ADDRESS_EDIT_POPUP:{INIT:"CARD_ADDRESS_EDIT_POPUP::INIT",CLOSED:"CARD_ADDRESS_EDIT_POPUP::CLOSED"},TOAST_NOTIFICATION:{SHOW:"TOAST_NOTIFICATION::SHOW",HIDE:"TOAST_NOTIFICATION::HIDE"},POST:{LABEL:{MODAL:{HIDE:"POST::LABEL::MODAL::HIDE"},SORT:{ON_CHANGE:"POST::LABEL::SORT::ON_CHANGE"}}},VIDEO_JS:{QUALITY_SELECTOR:{SHOWN:"VIDEOJS::QUALITY_SELECTOR::SHOWN",HIDDEN:"VIDEOJS::QUALITY_SELECTOR::HIDDEN"}},MEDIA_VAULT:{ADDED_TAG:"MEDIA_VAULT::ADDED_TAG"},PHOTOSWIPE_WRAPPER:{OPEN:"PHOTOSWIPE_WRAPPER::OPEN",CLOSE:"PHOTOSWIPE_WRAPPER::CLOSE",CLOSED:"PHOTOSWIPE_WRAPPER::CLOSED",ERROR:{IMAGE:"PHOTOSWIPE_WRAPPER::ERROR::IMAGE",VIDEO:"PHOTOSWIPE_WRAPPER::ERROR::VIDEO",AUDIO:"PHOTOSWIPE_WRAPPER::ERROR::AUDIO",MEDIA:"PHOTOSWIPE_WRAPPER::ERROR::MEDIA"},UPDATE_OPTIONS:"PHOTOSWIPE_WRAPPER::UPDATE_OPTIONS",UPDATE_DATA_SOURCE:"PHOTOSWIPE_WRAPPER::UPDATE_DATA_SOURCE"}}},620288:function(e,t,s){"use strict";function i(e){if(!(e instanceof HTMLElement))return!1;const t=window.getComputedStyle(e),s=/(auto|scroll)/.test(t.overflowY)&&e.scrollHeight>e.clientHeight,i=/(auto|scroll)/.test(t.overflowX)&&e.scrollWidth>e.clientWidth;return s||i}function r(e){return e instanceof HTMLElement&&e===document.documentElement}function n(e){if(!(e instanceof HTMLElement))return document.documentElement;for(;e&&e!==document.documentElement;){if(i(e))return e;e=e.parentElement}return document.documentElement}function a(e,t){if(!(e instanceof HTMLElement))return;const s=n(t),{top:i,left:a}=e.getBoundingClientRect();if(r(s))return{top:i+window.scrollY,left:a+window.scrollX};const{scrollTop:o,scrollLeft:l}=s,{top:c,left:u}=s.getBoundingClientRect();return{top:i-c-window.scrollY+(o||0),left:a-u-window.scrollX+(l||0)}}s.d(t,{CR:function(){return n},PP:function(){return a},Y9:function(){return r}})},621303:function(e,t,s){"use strict";s.d(t,{A:function(){return g}});const i=undefined;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let n;const a=new Uint8Array(16);function o(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(a)}const l=[];for(let m=0;m<256;++m)l.push((m+256).toString(16).slice(1));function c(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}function u(e,t=0){const s=c(e,t);if(!validate(s))throw TypeError("Stringified UUID is invalid");return s}var d=null;function h(e,t,s){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random??e.rng?.()??o();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((s=s||0)<0||s+16>t.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=i[e];return t}return c(i)}var g=h},903540:function(e,t,s){var i=s(187630),r=new RegExp("("+i.join("|")+")","ig");e.exports=function e(t){return!!t.match(r)}},921914:function(e,t,s){"use strict";s.d(t,{HI:function(){return c},O:function(){return l},i7:function(){return a},rB:function(){return u}});var i=s(826489),r=s.n(i),n=s(621303);const a=(e,t,s)=>{const{secureUploadPath:i,uploadPath:r}=s,a=encodeURIComponent(e.name.toLowerCase()),o=t?i:r,l=(Math.random()*(new Date).getTime()).toFixed(0);return`${o}${(0,n.A)()}/${l}/${a}`},o=e=>{const t=undefined;return document.createElement("video").canPlayType(e)},l=e=>{var t;const{id:s,mediaType:r,type:n,progress:a,processId:l}=e,c=!!s,u=!(null===(t=e.files)||void 0===t||!t.drm),d=100===a,h=d?l||s:void 0;return(["photo","gif"].includes(r)||"video"===r&&o(n)&&!(i.isIOS&&"video/mpeg"===n)||u||c)&&d&&!!h},c=e=>new Promise((t=>{const s=new Image;s.src=e.url,s.onload=function(){t(!0)},s.onerror=function(){t(!1)}})),u=({file:e,maxWidth:t=0,maxHeight:s=0,forceConvert:i=!1})=>new Promise(((r,n)=>{try{const n=new FileReader;n.onload=function(n){const a=new Image;a.onload=function(){const n=document.createElement("canvas");let o=1;if(a.width>t?o=t/a.width:a.height>s&&(o=s/a.height),1===o&&!i)return void r(e);n.width=a.width*o,n.height=a.height*o;const l=undefined;n.getContext("2d").drawImage(a,0,0,n.width,n.height);const c=e.name.split("."),u=c.length>1?c.slice(0,-1).join("."):c[0];n.toBlob((e=>r(new File([e],`${u}.jpg`,{type:"image/jpeg"}))),"image/jpeg")},a.src=n.target.result},n.readAsDataURL(e)}catch(a){n(!1)}}))},932983:function(e,t,s){"use strict";s.d(t,{PA:function(){return m},PD:function(){return u},cs:function(){return g},dy:function(){return p},eG:function(){return h},u3:function(){return d}});var i=s(185015),r=s.n(i),n=s(16280),a=s.n(n),o=s(620288),l=s(445948),c=s(480343);const u=48;function d({top:e,offset:t,desktopOffset:s,behavior:i,container:r}={}){const n=isNaN(e)?0:Number(e),a=isNaN(t)?0:Number(t),d=isNaN(s)?u:Number(s),h=Object.values(l.r0).includes(i)?i:l.r0.SMOOTH,g=(0,o.CR)(r),m=(0,o.Y9)(g)?document:g;let p=Math.max(n-a,0);return window.innerWidth>=c.i.SM&&(p=Math.max(p-d,0)),new Promise((e=>{const t=()=>{m.removeEventListener("scrollend",t),e()},s=g.scrollTop;try{g.scrollTo({top:p,behavior:h})}catch(i){if(!(i instanceof TypeError))throw t(),i;g.scrollTo(0,n)}m.addEventListener("scrollend",t),setTimeout((()=>{s===g.scrollTop&&t()}),100)}))}async function h({behavior:e,container:t}={}){const s=(0,o.CR)(t);s.scrollTop<=0||await d({behavior:e,top:0,desktopOffset:0,container:s})}async function g({behavior:e,container:t}={}){const s=(0,o.CR)(t),{scrollHeight:i,scrollTop:r}=s;r>=i||await d({behavior:e,desktopOffset:0,top:i,container:s})}async function m(e,{behavior:t,offset:s,desktopOffset:i}={}){const n=r()(e)?document.querySelector(e):e;if(!(n instanceof HTMLElement))return;const a=(0,o.CR)(n);let{top:l}=(0,o.PP)(n,a);await d({top:l,offset:s,behavior:t,desktopOffset:i,container:a})}async function p(e,{behavior:t,block:s,inline:i}={}){const n=r()(e)?document.querySelector(e):e;if(!(n instanceof HTMLElement))return;const a=(0,o.CR)(n),c=(0,o.Y9)(a)?document:a,u=Object.values(l.r0).includes(t)?t:l.r0.SMOOTH,d=Object.values(l.m9).includes(s)?s:l.m9.START,h=Object.values(l.Cc).includes(i)?i:l.Cc.NEAREST;return new Promise((e=>{const t=()=>{c.removeEventListener("scrollend",t),e()},s=a.scrollTop;try{n.scrollIntoView({block:d,behavior:u,inline:h})}catch(i){throw t(),i}c.addEventListener("scrollend",t),setTimeout((()=>{s===a.scrollTop&&t()}),100)}))}},951425:function(e,t,s){"use strict";s.d(t,{v:function(){return i}});const i={RF_GUEST_TOKEN:"rfguesttoken",USER_SCENARIO:"userScenario"}},967040:function(e,t,s){"use strict";var i=s(725440),r=s.n(i),n=s(903540),a=s.n(n),o=s(110908);const l=document.referrer||(a()(navigator.userAgent)&&-1!==navigator.userAgent.indexOf("Instagram")?"https://l.instagram.com":""),c=(l||"").indexOf("onlyfans.com")<0?l:"";t.A={data(){return{profileRef:null}},computed:{...(0,o.WsE)(["cookiesAccepted"]),...(0,o.npG)(["isAuth","authUserId"]),...(0,o._84)(["currentUser"])},watch:{authUserId:{handler(e){e&&this.resetRefs()},immediate:!0},cookiesAccepted:{handler(){this.presetRefs()},immediate:!0},currentUser:{handler(e){e&&this.presetRefs()},immediate:!0}},methods:{...(0,o.peC)(["setIsLogin"]),presetRefs(){this.profileRef||this.isAuth||!this.$route.query.ref||(this.setIsLogin(!1),0!==l.indexOf("https://www.google.com")&&(this.profileRef=this.$route.query.ref),a()(window.navigator.userAgent)||this.$router.replace({name:this.$route.name})),"all"===this.cookiesAccepted?this.setRefs():this.resetRefs()},setRefs(){this.authUserId||(this.isAuth||!this.currentUser||this.$cookies.get("reg_ref_user_id")||this.$cookies.set("reg_ref_user_id",this.currentUser),c&&this.$cookies.set("reg_ref",c),this.profileRef&&(this.$cookies.set("ref",this.profileRef,"1Y"),this.profileRef=null)),this.$cookies.set("ref_src",l,"1Y")},resetRefs(){try{["reg_ref","ref","ref_src","reg_ref_user_id"].forEach((e=>{this.$cookies.remove(e)}))}catch(e){}}}}}}]);